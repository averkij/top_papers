
<!DOCTYPE html>
<html>
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-C1CRWDNJ1J"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-C1CRWDNJ1J');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"><title>HF (8 статей)</title>
    <link rel="icon" href="favicon.svg" sizes="any" type="image/svg+xml">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@100..900&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #0989eacf;
            --secondary-color: #03dac6;
            --background-color: #f5f5f5;
            --text-color: #333333;
            --header-color: #0989eacf;
            --body-color: #f5f5f5;
        }
        body {
            font-family: 'Roboto Slab', sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        header {
            padding: 1.6em 0;
            text-align: center;
        }
        h1 {
            font-size: 2.4em;
            margin: 0;
            font-weight: 700;
        }
        h2 {
            # color: var(--primary-color);
            font-size: 1.2em;
            margin-top: 0;
            margin-bottom: 0.5em;
        }
        header p {
            font-size: 1.2em;
            margin-top: 0.5em;
            font-weight: 300;
        }
        main {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2em;
            padding: 10px 0 20px 0;
        }
        body.dark-tmeme>header {
            background-color: background-color: #333333;
            color: white;
        }
        body.dark-theme>div>main>article>div.article-content>p.meta {
            color: #fff;
        }
        body.light-theme>div>main>article>div.article-content>p.meta {
            color: #555;
        }
        body.dark-theme>div>main>article>div.article-content>p.pub-date {
            color: #ccc;
        }
        body.light-theme>div>main>article>div.article-content>p.pub-date {
            color: #555;
        }
        body.dark-theme>div>main>article>div.article-content>p.tags {
            color: #ccc;
        }
        body.light-theme>div>main>article>div.article-content>p.tags {
            color: #555;
        }
        body.light-theme>header {
            background-color: var(--header-color);
            color: white;
        }
        body.dark-theme>div>main>article {
            background-color: #444;
        }
        body.light-theme>div>main>article {
            background-color: #fff;
        }
        body.dark-theme>div>main>article:hover {
            background-color: #414141;
        }
        body.light-theme>div>main>article:hover {
            background-color: #fafafa;
        }
        article {
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);
            transition: background-color 0.2s ease;
            display: flex;
            flex-direction: column;
            position: relative;
        }
        .article-content {
            padding: 1.5em;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            position: relative;
            z-index: 1;
            cursor: pointer;
        }
        .meta {
            font-size: 0.9em;
            margin-bottom: 0em;
        }
        .pub-date {
            font-size: 0.9em;
            margin-bottom: 0.8em;
            font-weight: 300;
        }
        .tags {
            font-size: 0.9em;
            margin-bottom: 1em;
            position: absolute;
            bottom: 10px;
            font-weight: 300;
            font-family: 'Roboto Slab';
        }
        .background-digit {
            position: absolute;
            bottom: -20px;
            right: -10px;
            font-size: 12em;
            font-weight: bold;
            color: rgba(0, 0, 0, 0.03);
            z-index: 0;
            line-height: 1;
        }
        .abstract {
            position: relative;
            max-height: 170px;
            overflow: hidden;
            transition: max-height 0.3s ease;
            cursor: pointer;
        }
        .abstract.expanded {
            max-height: 1000px;
        }
        .abstract-toggle {
            position: absolute;
            bottom: 4px;
            right: 0;
            cursor: pointer;
            color: var(--primary-color);
            float: right;
            font-weight: 400;
        }
        .explanation {
            background-color: #e8f5e9;
            border-left: 4px solid var(--secondary-color);
            padding: 1em;
            margin-top: 1.5em;
        }
        .links {
            margin-top: 1.5em;
            margin-bottom: 80px;
        }
        a {
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s ease;
        }
        a:hover {
            color: var(--secondary-color);
        }
        footer {
            background-color: var(--primary-color);
            color: white;
            text-align: center;
            padding: 1em 0;
            margin-top: 2em;
        }
        .light-theme {
            background-color: var(--body-color);
            color: #333333;
        }
        .dark-theme {
            background-color: #333333;
            color: #ffffff;
        }
        .theme-switch {
            position: fixed;
            top: 20px;
            right: 20px;
            display: flex;
            align-items: center;
        }
        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 30px;
        }
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 30px;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 24px;
            width: 24px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider {
            background-color: var(--primary-color);
        }
        input:checked + .slider:before {
            transform: translateX(20px);
        }
        .switch-label {
            margin-right: 10px;
        }
        .update-info-container {
            margin-top: 15px;
            margin-bottom: 0px;
            text-align: left;
        }
        .sort-container {
            margin-top: 15px;
            margin-bottom: 0px;
            text-align: right;
        }
        .sub-header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }
        .update-info-container {
            flex: 1;
        }
        .sort-container {
            flex: 2;
        }
        .sort-dropdown {
            padding: 5px 10px;
            font-size: 16px;
            border-radius: 5px;
            border: 1px solid #ccc;
            background-color: white;
            color: var(--text-color);
            font-family: 'Roboto Slab', sans-serif;
        }
        .sort-label {
            margin-right: 10px;
            font-size: 1.0em !important;
        }        
        .dark-theme .sort-dropdown {
            background-color: #444;
            color: white;
            border-color: var(--text-color);
        }
        .title-sign {
            display: inline-block;
            transition: all 0.5s ease;            
        }
        .rotate {
            transform: rotate(45deg) translateY(-6px);
            transform-origin: center;
        }
        .title-text {
            display: inline;
            padding-left: 10px;
        }
        .category-filters {
            margin-top: 20px;
            margin-bottom: 20px;
            text-align: center;
        }
        .category-button {
            display: inline-block;
            margin: 5px;
            padding: 5px 10px;
            border-radius: 15px;
            background-color: #f0f0f0;
            color: #333;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .category-button.active {
            background-color: var(--primary-color);
            color: white;
        }
        .dark-theme .category-button {
            background-color: #555;
            color: #fff;
        }
        .dark-theme .category-button.active {
            background-color: var(--primary-color);
        }
        .category-toggle {
            display: none;
            margin-bottom: 10px;
            margin-top: 15px;
            cursor: pointer;
        }
        .clear-categories {
            display: inline-block;
            margin: 5px;
            padding: 5px 10px;
            border-radius: 15px;
            background-color: #f0f0f0;
            color: #333;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .clear-categories:hover {
            background-color: #bbb;
        }
        .svg-container {
            display: inline-block;
            position: relative;
            overflow: hidden;
        }

        .svg-container span {
            position: relative;
            z-index: 1;
        }

        .svg-container svg {
            position: absolute;
            bottom: 0;
            left: 0;
            z-index: 0;
        }
        @media (max-width: 768px) {
            .category-filters {
                display: none;
            }
            .category-toggle {
                display: inline-block;
                width: 100%;
                text-align: left;
            }
            .category-filters.expanded {
                display: block;
                margin-top: 10px;
            }
        }
        @media (max-width: 600px) {
            .sub-header-container {
                flex-direction: column;
                align-items: flex-start;
            }
            .update-info-container {
                text-align: left;
                width: 100%;
                margin-bottom: 0px;
            }
            .sort-container {
                margin-top: 0px;
                text-align: left;
                width: 100%;
            .sort-dropdown {
                float: right;
            }
            .sort-label {
                margin-top: 5px;
                float: left;
            }
        }
    </style>
    <script>
    function toggleAbstract(id) {
        var abstract = document.getElementById('abstract-' + id);
        var toggle = document.getElementById('toggle-' + id);
        if (abstract.classList.contains('expanded')) {
            abstract.classList.remove('expanded');
            toggle.textContent = '...';
        } else {
            abstract.classList.add('expanded');
            toggle.textContent = '';
        }
    }
    function getTimeDiffRu(dateString) {
        const timeUnits = {
            minute: ["минуту", "минуты", "минут"],
            hour: ["час", "часа", "часов"],
            day: ["день", "дня", "дней"]
        };

        function getRussianPlural(number, words) {
            if (number % 10 === 1 && number % 100 !== 11) {
                return words[0];
            } else if (number % 10 >= 2 && number % 10 <= 4 && (number % 100 < 10 || number % 100 >= 20)) {
                return words[1];
            } else {
                return words[2];
            }
        }

        const pastDate = new Date(dateString.replace(" ", "T") + ":00Z");
        const currentDate = new Date();
        const diffInSeconds = Math.floor((currentDate - pastDate) / 1000);

        const minutes = Math.floor(diffInSeconds / 60);
        const hours = Math.floor(diffInSeconds / 3600);
        const days = Math.floor(diffInSeconds / 86400);

        if (minutes == 0) {
            return 'только что';
        }
        else if (minutes < 60) {
            return `${minutes} ${getRussianPlural(minutes, timeUnits.minute)} назад`;
        } else if (hours < 24) {
            return `${hours} ${getRussianPlural(hours, timeUnits.hour)} назад`;
        } else {
            return `${days} ${getRussianPlural(days, timeUnits.day)} назад`;
        }
    }
    function formatArticlesTitle(number) {
        const lastDigit = number % 10;
        const lastTwoDigits = number % 100;

        let word;

        if (lastTwoDigits >= 11 && lastTwoDigits <= 14) {
            word = "статей";
        } else if (lastDigit === 1) {
            word = "статья";
        } else if (lastDigit >= 2 && lastDigit <= 4) {
            word = "статьи";
        } else {
            word = "статей";
        }

        return `${number} ${word}`;
    }
    </script>
</head>
<body class="light-theme">
    <header>
        <div class="container">
            <h1 class="title-sign" id="doomgrad-icon">🔺</h1><h1 class="title-text" id="doomgrad">хф дэйли</h1>
            <p>18 октября | 8 статей</p>
        </div>
        <div class="theme-switch">
            <label class="switch">
                <input type="checkbox" id="theme-toggle">
                <span class="slider"></span>
            </label>
        </div>
    </header>
    <div class="container">
        <div class="sub-header-container">
            <div class="update-info-container">
                <label class="update-info-label" id="timeDiff"></label>
            </div>
            <div class="sort-container">
                <label class="sort-label">🔀 Сортировка по</label>
                <select id="sort-dropdown" class="sort-dropdown">
                    <option value="default">рейтингу</option>
                    <option value="pub_date">дате публикации</option>
                    <option value="issue_id">добавлению на HF</option>
                </select>
            </div>
        </div>
        <div class="category-toggle">
            <div class="svg-container">
                <span id="category-toggle">🔍 Фильтр</span>
                <svg height="3" width="200">
                    <line x1="0" y1="0" x2="200" y2="0" 
                        stroke="black" 
                        stroke-width="2" 
                        stroke-dasharray="3, 3" />
                </svg>
            </div>
        </div>
        <div class="category-filters" id="category-filters">
            <span class="clear-categories" id="clear-categories">🧹</span>
            <!-- Categories -->
        </div>
        <main id="articles-container">
            <!-- Articles -->
        </main>
    </div>
    <footer>
        <div class="container">
            <p><a style="color:white;" href="https://t.me/doomgrad">градиент обреченный</a> ✖️ <a style="color:white;" href="https://huggingface.co/papers">hugging face</a></p>
        </div>
    </footer>
    <script>    
        function toggleTheme() {
            const body = document.body;
            body.classList.toggle('light-theme');
            body.classList.toggle('dark-theme');

            const isDarkMode = body.classList.contains('dark-theme');
            localStorage.setItem('darkMode', isDarkMode);
            
            if (isDarkMode) {
                const title = document.getElementById('doomgrad');
                title.innerHTML = "хф найтли";
                const titleSign = document.getElementById('doomgrad-icon');
                titleSign.classList.add('rotate');
            }  else {
                const title = document.getElementById('doomgrad');
                title.innerHTML = "хф дэйли";
                const titleSign = document.getElementById('doomgrad-icon');
                titleSign.classList.remove('rotate');
            }
        }

        const articlesData = [{'id': 'https://huggingface.co/papers/2410.13824', 'title': 'Harnessing Webpage UIs for Text-Rich Visual Understanding', 'url': 'https://huggingface.co/papers/2410.13824', 'abstract': 'Text-rich visual understanding-the ability to process environments where dense textual content is integrated with visuals-is crucial for multimodal large language models (MLLMs) to interact effectively with structured environments. To enhance this capability, we propose synthesizing general multimodal instructions from webpage UIs using text-based large language models (LLMs). Despite lacking direct visual input, text-based LLMs are able to process structured text representations from webpage accessibility trees. These instructions are then paired with UI screenshots to train multimodal models. We introduce MultiUI, a dataset containing 7.3 million samples from 1 million websites, covering diverse multimodal tasks and UI layouts. Models trained on MultiUI not only excel in web UI tasks-achieving up to a 48\\% improvement on VisualWebBench and a 19.1\\% boost in action accuracy on a web agent dataset Mind2Web-but also generalize surprisingly well to non-web UI tasks and even to non-UI domains, such as document understanding, OCR, and chart interpretation. These results highlight the broad applicability of web UI data for advancing text-rich visual understanding across various scenarios.', 'score': 6, 'issue_id': 146, 'pub_date': '2024-10-17', 'pub_date_ru': '17 октября', 'data': {'desc': 'В статье представлен новый подход к улучшению понимания визуального контекста с текстом для мультимодальных больших языковых моделей. Авторы предлагают синтезировать инструкции из веб-интерфейсов с помощью текстовых языковых моделей. Создан датасет MultiUI, содержащий 7,3 миллиона образцов из 1 миллиона веб-сайтов. Модели, обученные на MultiUI, показывают значительное улучшение в задачах веб-интерфейсов и обобщают свои способности на другие домены.', 'categories': ['#multimodal', '#dataset', '#nlp', '#cv'], 'emoji': '🌐', 'title': 'Синтез веб-данных для универсального мультимодального понимания', 'embedding': [-0.04523272921881244, 0.10536439478748681, 0.027158394998074965, 0.020271659522254626, 0.0058450173864620595, -0.08687470547940175, 0.027466557573478753, 0.01755180075161021, -0.037059753163551416, 0.11436805927872898, -0.02213402602251952, -0.02899396635942709, -0.03580031424463771, -0.07160062848927543, 0.012453739057204717, 0.017940349830688013, 0.004840143156576689, -0.08387348035920203, -0.03944465530681498, 0.0011698408525568284, 0.08403426640977849, -0.011348377404330808, 0.025416613144531752, 0.013827066229370449, 0.04619740856645725, -0.06929610741500737, -0.0063441045655727975, 0.06356163247632106, 0.02193305052438102, 0.041481198905498486, 0.05303055159058065, -0.028806389517680678, -0.13548381784964955, -0.02455912087415223, -0.08451659847505097, 0.10933029273371715, -0.03164683293504677, 0.1250867213539586, 0.07776384738928009, 0.044402034261217097, -0.001939406763688342, -0.04236549066253358, 0.05134236436260578, 0.020874582755863007, -0.06227539407075178, 0.07829978277560656, 0.09823648784435172, 0.13205384442038867, -0.027841710170035866, 0.12154956302130382, -0.061953832838955905, 0.01769918053724466, -0.07047516526492556, -0.0543435873089341, -0.038212007179071236, -0.05841667668017253, 0.03521078640661431, 0.0794252394783422, -0.10949107661042219, 0.009720481195393938, 0.006196723040841228, -0.05345929772577041, -0.01764558808554772, -0.059595728008476526, -0.11661898355355728, -0.083712707351854, -0.044428831574001265, 0.01752500343882604, -0.0448843728481038, -0.05718403072630019, 0.06516942993981481, -0.05632653628204927, -0.002667940634702021, 0.044616408415747676, -0.009077362427383578, -0.005309084391394148, -0.04863590316141775, 0.053968433625441285, -0.03491602466147402, -0.11811958959204294, 0.07235092716077544, 0.014751551129548983, -0.08349832884958062, -0.033495799691983866, -0.05713044044847465, 0.03963223214856139, 0.08071148440552568, 0.03438008927514756, -0.03293307134061605, -0.038024430337324826, -0.04973456472524063, -0.02111575422317776, -0.010524380144527952, 0.023246085155798776, 0.026501877138898237, 0.06554458362330763, -0.06474068597849646, -0.04785880065551935, 0.041749163337854604, 0.05412921315440353, -0.053512892351338756, -0.05964932263404487, 0.03569312499350102, 0.0036845381182892237, 0.05152994120435219, -0.05782714884214913, 0.11908426893968774, -0.05206587441680724, -0.0683850270406737, -0.04260665778210553, -0.14009283825947164, -0.03732772194365035, -0.010202820869216343, 0.03078933849079584, 0.17728657146532972, -0.10627547516182048, -0.027520150025175695, -0.08639236689251505, 0.006799647796159591, -0.056219351378655386, 0.012587721925544198, 0.041588383808892376, 0.08596362293119669, -0.046947715933442886, 0.06307929171556295, -0.0701536062070011, -0.004441543183067349, 0.011267987639849692, 0.03885513181653438, 0.02656886933392297, -0.04866270047420193, 0.056808877042807376, 0.033308225024108865, -0.00402954477055306, -0.07058235451606226, -0.006575225573230291, -0.04903784980995194, 0.05525467420488197, -0.11833397244205912, 0.004207072456965048, 0.012487234719942801, -0.041266824750967906, 0.03352259700476804, 0.07674557341606693, -0.09362746743452964, -0.0482071548523566, -0.018221716180243326, 0.08783939134866077, -0.06951048809115216, 0.06511583531424646, -0.10252394484850652, -0.08580284557610586, -0.037461704159828406, -0.0407844861640812, -0.06822425185945429, -0.04507194968985021, -0.02213402602251952, 0.04416086279390234, 0.06999282233029605, -0.17182005661125668, 0.11962020867375701, -0.002786850748282004, 0.06608051683576267, 0.011294783648311024, 0.0016613917195039591, 0.048126767261746875, -0.017163247324789608, 0.007422669340436812, -0.08880406852243419, -0.07315482915332944, -0.11104527727447619, -0.001486376093669079, -0.03036059235560608, -0.05504030005035139, -0.04788559579443212, -0.09759336972850279, -0.03521078640661431, -0.07695995409221172, -0.0029359070235424065, -0.018623665002648913, -0.048180359713443824, 0.10038021852030052, -0.06538380409434538, -0.004471689562134907, -0.09196606447611054, -0.0849989435835519, -0.018690657197673644, 0.02923513565287044, -0.07604886284852105, 0.002837094351082702, -0.03829239911742375, 0.051181584833643545, 0.10734734158673058, 0.09780773518754775, 0.06281132510933542, 0.05048487209222626, 0.1048820496789859, 0.018945224060573383, 0.005928756869387984, -0.01301646871289538, 0.038212007179071236, 0.1087943638690049, -0.05702325119733796, -0.09212685052668697, -0.030467779432871375, -0.011589546915161302, -0.02395619764054385, 0.04842152900688717, -0.07540574473267211, 0.022643161922190392, 0.05048487209222626, 0.11651179430242059, 0.06725956816406667, 0.03419251243340115, -0.10038021852030052, -0.03914989356167468, -0.08339114829392955, -0.005412921315440353, 0.07685276701494644, 0.06350803785075271, -0.008641917072691343, -0.0186370647459767, 0.08891125342582808, -0.02509505408660728, -0.1186555314999836, 0.0886968792712975, 0.04667974715334396, 0.030253407452212194, 0.02028505709171101, -0.09368105336461238, 0.15467021120366628, -0.03429969733679505, -0.053914843347615746, -0.01923998797958508, -0.0038419683635809326, -0.08135460252137464, 0.05546904618554115, -0.05209266738184861, -0.014496983179713544, 0.03861396034921963, 0.03521078640661431, 0.06131071472310696, 0.008327056364720786, -0.014563974287802574, 0.0036711396792842776, 0.05970291291187041, -0.08135460252137464, -0.01946775970357205, 0.04842152900688717, -0.017766172732269395, 0.017712580280572446, -0.06817065723388593, -0.1488821264223118, -0.0691889290332277, -0.019306980174609814, 0.08355192130127757]}}, {'id': 'https://huggingface.co/papers/2410.13841', 'title': 'A Unified View of Delta Parameter Editing in Post-Trained Large-Scale Models', 'url': 'https://huggingface.co/papers/2410.13841', 'abstract': 'Post-training has emerged as a crucial paradigm for adapting large-scale pre-trained models to various tasks, whose effects are fully reflected by delta parameters (i.e., the disparity between post-trained and pre-trained parameters). While numerous studies have explored delta parameter properties via operations like pruning, quantization, low-rank approximation, and extrapolation, a unified framework for systematically examining these characteristics has been lacking. In this paper, we propose a novel perspective based on Riemann sum approximation of the loss function to elucidate delta parameter editing operations. Our analysis categorizes existing methods into three classes based on their post-editing performance: competitive, decreased, and improved, explaining how they are expressed by the Riemann sum approximation term and how they alter the model performance. Extensive experiments on both visual and language models, including ViT, LLaMA 3, Qwen 2, and Mistral, corroborate our theoretical findings. Furthermore, we introduce extensions to existing techniques like DARE and BitDelta, highlighting their limitations in leveraging the properties of delta parameters and reorganizing them into general expressions to enhance the applicability and effectiveness of delta parameter editing in post-trained models.', 'score': 5, 'issue_id': 146, 'pub_date': '2024-10-17', 'pub_date_ru': '17 октября', 'data': {'desc': 'Статья представляет новый подход к анализу дельта-параметров в пост-обучении моделей машинного обучения, основанный на аппроксимации Римана функции потерь. Авторы классифицируют существующие методы редактирования дельта-параметров на три категории в зависимости от их влияния на производительность модели. Исследование включает эксперименты с визуальными и языковыми моделями, такими как ViT, LLaMA 3, Qwen 2 и Mistral. Предложенный подход позволяет улучшить применимость и эффективность редактирования дельта-параметров в пост-обученных моделях.', 'categories': ['#nlp', '#cv', '#benchmark', '#multimodal'], 'emoji': '🔬', 'title': 'Новый взгляд на дельта-параметры: аппроксимация Римана в пост-обучении', 'embedding': [-0.016134365601836485, 0.08014456117267844, 0.07166142439001948, -0.04365769527697358, -0.044852833169839616, 0.03252650695612775, 0.010105948037005156, 0.13413668887401717, -0.09472056097633681, 0.11360842824514496, 0.014646301103958403, 0.042321951140176985, -0.055632510941040283, 0.05146124364760358, 0.05924135730689974, 0.002103208870589735, 0.033698210137659945, -0.04044722281120948, 0.040423792148020624, 0.15269647423229651, 0.02882391972086043, -0.060084984650120625, 0.004182983434660127, 0.03864280266438849, 0.10939029557718556, 0.01605234512420429, 0.038994311189961155, -0.02151248611973365, 0.06088174459474631, -0.0868467044235603, 0.06641219073631345, -0.024793258671354287, -0.03468244170073889, -0.05910075511111417, 0.03683837644535003, 0.0856750012420281, -0.020446236103095008, 0.09973545561299439, -0.09111170853825987, -0.038572496506314474, 0.02111410614742081, -0.05324223515530821, -0.10264128290363603, 0.07700439081684338, -0.043095276373468834, 0.08900264524038891, 0.052257999544084284, 0.024160538669956752, -0.01768101404434768, 0.07297373179140973, -0.03376851224758898, 0.055445037298514535, -0.029058262786053862, -0.05075822052424077, 0.09720456751111428, -0.005334182761829581, 0.06256899928118806, -0.08956505807167618, 0.0650530139122555, -0.04316557645932537, 0.0019186654778133396, -0.10367237376902018, -0.012033401025550563, 0.04044722281120948, -0.08965880096515653, -0.003989652531151664, -0.17566188411771344, 0.07700439081684338, -0.08051950643365745, -0.0624752604358527, 0.01703657769931947, -0.10976524286223706, 0.05708542256228861, -0.05108629636255208, -0.04504030478829287, -0.0010655183953950185, 0.012338044379007783, 0.06434999078889268, 0.023023986543389073, -0.017505257757488856, 0.07245818028650017, -0.0491178332363942, 0.03119076281933116, -0.05689795094383535, -0.07245818028650017, -0.06566229819028294, -0.013697221000658476, -0.10067281168118816, -0.05089882474409883, -0.01488064194267209, -0.024230839767849538, -0.02978471859667802, 0.022051470311904558, 0.03510425436031308, 0.0971108347379964, 0.030019059637798964, 0.01292389596977388, -0.007428603919279999, 0.0506176183284552, 0.07939466862664796, -0.0021207844992756175, 0.030698647037791685, 0.060553666732362496, -0.01632183722028974, 0.053710913189405095, -0.0195088729506475, 0.005533372343171503, 0.03470587641207273, 0.04058783107921254, 0.014833773532040653, 0.033370134299348625, 0.02783968815778149, -0.08651862858524897, -0.06725582010360683, -0.01628668717736147, -0.15710208256685415, -0.12148228074977649, 0.045087174210960555, -0.04775865843640876, -0.016720217192602586, -0.04358738911889956, -0.08192554863223808, 0.046141705859896034, -0.01973149663610152, 0.045368380626604185, -0.07602016127783694, 0.04703220262578459, -0.06013185407278831, 0.04649321640954119, 0.0044876267881173455, 0.038478763733196586, 0.1092965547077777, 0.048367944738508695, -0.10451599908816857, -0.017962224508136306, -0.013169954366561739, -0.022684189301265846, 0.08722165170861179, -0.06261586667978325, -0.013205105623933506, 0.0612566918797978, 0.01979008341443612, -0.0620534477762785, 0.03967389960199013, -0.09879808740036566, 0.0033979418577376073, 0.030136229146323183, 0.04869602057682001, -0.0757389548621933, 0.02526194075359616, -0.04058783107921254, -0.045790197334323365, -0.046024538375444304, 0.026644550264915454, -0.07198949820425829, -0.003731877588325882, -0.005439636129130378, -0.028894221830789463, 0.02427770919051722, -0.0773324666551547, -0.04136115631250438, 0.09017434842192111, -0.003711372721926894, -0.016110930890502643, 0.016802236658198536, -0.056944816318358044, -0.06191284355642043, 0.00981302122958586, -0.12457558168294387, -0.18531670991339716, 0.031471971259047285, -0.07231758011478709, 0.06814631079727788, -0.1453850487274597, 0.013193387661044834, -0.017704448755681522, -0.04518091103222343, -0.06416251714636693, -0.05764784146579336, -0.02868331550100237, -0.1237319482675055, 0.034752741786595424, -0.04925844150439725, 0.1516653712224774, -0.1119211755827757, -0.02992532281653609, -0.029245734404507118, 0.03686181318075636, 0.0030464307008706993, 0.026480511333723547, 0.013990146796041525, 0.048133603697387756, 0.13694876517488846, -0.01670849983693566, 0.06383444130805563, -0.008606165981052903, 0.058444601410419045, 0.12157601554696687, -0.0061690221895038914, -0.06819317819587309, 0.09439247906580801, 0.05591371735668392, 0.051883058331250266, -0.10179764948819767, -0.02676172179751217, -0.0014141004359931706, 0.03775230589849993, -0.025941529165625133, -0.09111170853825987, -0.13169953556932742, -0.00816091861014487, 0.08736225390439736, 0.020153310307711957, -0.008225363054276688, -0.015864874517787276, 0.0002361716041880894, -0.03034713547611028, 0.10001666202863803, -0.023691857599751124, 0.012291176170783595, -0.02401993343806244, -0.09537671062888695, 0.03137823544982066, 0.050195803644808516, -0.07320807485660315, -0.004856713371262887, 0.09907929381600929, -0.07723873388203681, 0.06003811927559793, -0.04705563733711844, 0.03561980384115014, -0.045837064732918556, -0.11585810183509146, -0.049914593181019894, 0.07484846012037723, -0.09954798197046864, -0.021207842968683683, -0.14285415860150708, 0.06210031719894619, -0.011722899601481632, 0.0437748647854978, 0.05014893422214083, -0.022637323926743152, 0.01158229477440182, -0.04316557645932537, 0.14529130380990685, 0.005987408034440601, -0.01309965144700371, 0.011945523286935648, 0.0037699578810035037, 0.043024974263539795, 0.040001979488446436, 0.048321077339913504, -0.018606660853164515, 0.02488699549261716, 0.025051034423809068]}}, {'id': 'https://huggingface.co/papers/2410.13085', 'title': 'MMed-RAG: Versatile Multimodal RAG System for Medical Vision Language Models', 'url': 'https://huggingface.co/papers/2410.13085', 'abstract': 'Artificial Intelligence (AI) has demonstrated significant potential in healthcare, particularly in disease diagnosis and treatment planning. Recent progress in Medical Large Vision-Language Models (Med-LVLMs) has opened up new possibilities for interactive diagnostic tools. However, these models often suffer from factual hallucination, which can lead to incorrect diagnoses. Fine-tuning and retrieval-augmented generation (RAG) have emerged as methods to address these issues. However, the amount of high-quality data and distribution shifts between training data and deployment data limit the application of fine-tuning methods. Although RAG is lightweight and effective, existing RAG-based approaches are not sufficiently general to different medical domains and can potentially cause misalignment issues, both between modalities and between the model and the ground truth. In this paper, we propose a versatile multimodal RAG system, MMed-RAG, designed to enhance the factuality of Med-LVLMs. Our approach introduces a domain-aware retrieval mechanism, an adaptive retrieved contexts selection method, and a provable RAG-based preference fine-tuning strategy. These innovations make the RAG process sufficiently general and reliable, significantly improving alignment when introducing retrieved contexts. Experimental results across five medical datasets (involving radiology, ophthalmology, pathology) on medical VQA and report generation demonstrate that MMed-RAG can achieve an average improvement of 43.8% in the factual accuracy of Med-LVLMs. Our data and code are available in https://github.com/richard-peng-xia/MMed-RAG.', 'score': 4, 'issue_id': 146, 'pub_date': '2024-10-16', 'pub_date_ru': '16 октября', 'data': {'desc': 'В статье представлена система MMed-RAG, разработанная для повышения фактической точности медицинских крупномасштабных моделей зрения и языка (Med-LVLMs). Система использует механизм поиска с учетом домена, адаптивный метод выбора найденных контекстов и стратегию дообучения на основе RAG. Эксперименты на пяти медицинских наборах данных показали среднее улучшение фактической точности Med-LVLMs на 43.8%. MMed-RAG решает проблемы галлюцинаций и несоответствий, часто встречающихся в существующих моделях.', 'categories': ['#multimodal', '#rag', '#nlp', '#cv', '#dataset'], 'emoji': '🏥', 'title': 'MMed-RAG: Повышение точности медицинских AI-диагнозов', 'embedding': [-0.0025336705460810224, 0.0375948786257944, 0.062063958072202, 0.038324089237590106, -0.06881590682024415, 0.02018834137569075, 0.013017766071990995, -0.01683937344092921, -0.05458279258706607, 0.03843212111992629, 0.019216060559963145, -0.1317981409967188, -0.011647119553260197, 0.022402981692103422, -0.008824803318664568, -0.0018078354839720049, -0.00042706105028620723, -0.04521108243252604, -0.05423168845903196, 0.05849892433100205, 0.03764889354607948, 0.020228852055463053, 0.047722805831389666, -0.0739473957091377, -0.009182656912659239, -0.056284281972823355, 0.0842643781983798, 0.11559344031693175, 0.02776403246088406, 0.023523805069939518, 0.03670361712784537, -0.04175408057366228, -0.0013242269680718954, -0.032706464024364786, 0.003414800596819824, 0.1344989074286331, 0.0022213928450222627, 0.025036243255582038, -0.018567871307712046, 0.009304191810448587, 0.026980806928803277, -0.022402981692103422, 0.019958773370505598, 0.13331055876470105, 0.06001136251664457, 0.003740582130038155, 0.08512862509000518, -0.010087418567588987, 0.0016964282561257326, 0.0335166959957051, -0.15545698234648803, -0.03664960220756029, -0.07454156595757168, 0.02299715398230341, 0.0009351455223007086, 0.036784640529156004, -0.006512259300300295, 0.0100334030347741, 0.048208948281019494, -0.0008401962149570831, -0.0289793855223096, -0.10327787515065129, 0.002577558102687931, 0.003484007889770079, -0.0983084412314431, -0.042240220981526085, -0.06789764296656764, -0.036487555404939025, -0.0010828444879391866, -0.03359772143878176, 0.011417553589841074, -0.042645337988079256, 0.031031979036101, 0.015705043780814307, -0.053988618255100054, 0.0013875264110185643, 0.049802409867972644, 0.1078151937911109, 0.03978251046118152, -0.03249039821792638, 0.025886989990226705, -0.02421250500196292, 0.013328356661780371, -0.03008670465963292, -0.02531982618105227, -0.029789619535415937, -0.05018051635173423, -0.05126083313333008, -0.09447333084705173, -0.022767585977118258, -0.035002127742088086, 0.060821596529750915, -0.00437526591671686, 0.026197579354956466, 0.024442070965382045, 0.06649323870502734, -0.009364959463519862, -0.041132899802436736, 0.09760623705890692, 0.1071670045388598, -0.045535171954236515, -0.026130060194158606, 0.10133331760272812, -0.03953944025724962, 0.091664514156907, -0.04753375054774284, 0.050369571635381055, -0.001358830614547023, 0.029708594092339273, 0.016339726750786602, -0.01709594584360786, -0.04515706547047493, -0.13719969427820763, 0.0034553120932985376, -0.022578532735237467, -0.10538448766825982, -0.13979245128721204, -0.023699356113073562, 0.02432053688429911, -0.0018314673944278578, -0.08707318876322642, 0.07464959579814183, 0.052179094945240555, -0.10241362621725987, 0.05185500338176405, -0.060281439159836, 0.07697227208042275, -0.07929494427917161, 0.012153516321893166, -0.01764960745403555, 0.028817336677922304, 0.13017765255284586, 0.1516758766735516, -0.044589901661300495, -0.11559344031693175, -0.05015351195424073, -0.04115990828346229, -0.005512970003547135, -0.1500554086473389, 0.003146410452367972, -0.03956644669650914, -0.0002664911591216854, -0.056824439342738266, 0.05425869898182354, -0.09139444363901365, -0.01987775099007798, -0.014071070697382441, 0.035083149101632696, -0.006343460173246036, 0.0706524386111292, -0.17609094732497219, -0.019270075480248224, -0.01632622455203985, 0.046858554856232214, -0.10063111343019195, 0.006380596017949761, -0.010492535574142158, 0.009283935653856023, 0.023375262507831028, -0.11829422716650631, -0.039485421253432476, 0.07599998718116308, -0.006721569719656665, -0.07843069126224812, 0.04758776750979395, 0.05042358655566613, -0.13665952465769654, 0.0391883361292155, -0.06697937911289115, -0.08167162731467349, -0.08809948858277117, -0.08113147607005666, -0.0604434880042233, -0.08988200341160511, -0.014003551536584585, 0.018581375548224827, 0.06379245593898483, -0.03751385318271774, 0.03186921948846686, -0.00913539288757093, -0.09706608785605612, 0.08518264205205629, -0.018770430831871646, 0.1083013341989747, -0.023280734866007617, -0.02523880073797561, -0.08113147607005666, 0.0015200335552686944, 0.008156359747410333, -0.008507461221148614, -0.055798141564959554, 0.08944988200755845, 0.0978763177856304, 0.05704050310741065, -0.01974271164759925, 0.030248751462254187, 0.09247475633707745, 0.04764178243007903, 0.09528356486015806, -0.12985357323996552, 0.06995023648035903, 0.02758848141775002, 0.046399424971159994, -0.1984534183373033, -0.009655293692540073, -0.02317270502543746, -0.014840792805656861, 0.02268656359669064, 0.012781447988315481, -0.0078052578653188456, 0.09258278617764762, 0.0031058985475360527, 0.15135178715184108, 0.061415766778184874, -0.03213929817342432, 0.010803125755578328, -0.06611513017949971, 0.03408386184664556, 0.02757497717723724, -0.026089547472620277, -0.008953090132533701, -0.005911335298197121, 0.024550102847718233, 0.05833687548661476, -0.09420325216209427, 0.01369296094679521, 0.09760623705890692, -0.0938791565150857, 0.0789168296283459, -0.08831554826391148, 0.057634675397610635, -0.011842926344633598, -0.05952522210878077, 0.03673062560887093, 0.06768158328542732, -0.002457710928697776, 0.05093673748632152, -0.03756786810300282, 0.04515706547047493, 0.032220323616500984, 0.12272350371579958, 0.07848470414076718, 0.013551170504943108, -0.06600709829716354, -0.06562898772986989, 0.055960192451112875, -0.038297078714798524, -0.07481164464252914, 0.13212222030959914, 0.0014255061176218862, 0.0010904404700951716, -0.13709166443763748, 0.020161332894665197, -0.10144134744329829, -0.039647472139585804, 0.07913289339301828]}}, {'id': 'https://huggingface.co/papers/2410.13830', 'title': 'DreamVideo-2: Zero-Shot Subject-Driven Video Customization with Precise Motion Control', 'url': 'https://huggingface.co/papers/2410.13830', 'abstract': "Recent advances in customized video generation have enabled users to create videos tailored to both specific subjects and motion trajectories. However, existing methods often require complicated test-time fine-tuning and struggle with balancing subject learning and motion control, limiting their real-world applications. In this paper, we present DreamVideo-2, a zero-shot video customization framework capable of generating videos with a specific subject and motion trajectory, guided by a single image and a bounding box sequence, respectively, and without the need for test-time fine-tuning. Specifically, we introduce reference attention, which leverages the model's inherent capabilities for subject learning, and devise a mask-guided motion module to achieve precise motion control by fully utilizing the robust motion signal of box masks derived from bounding boxes. While these two components achieve their intended functions, we empirically observe that motion control tends to dominate over subject learning. To address this, we propose two key designs: 1) the masked reference attention, which integrates a blended latent mask modeling scheme into reference attention to enhance subject representations at the desired positions, and 2) a reweighted diffusion loss, which differentiates the contributions of regions inside and outside the bounding boxes to ensure a balance between subject and motion control. Extensive experimental results on a newly curated dataset demonstrate that DreamVideo-2 outperforms state-of-the-art methods in both subject customization and motion control. The dataset, code, and models will be made publicly available.", 'score': 3, 'issue_id': 146, 'pub_date': '2024-10-17', 'pub_date_ru': '17 октября', 'data': {'desc': 'DreamVideo-2 - это новая система для создания персонализированных видео без дополнительного обучения. Она использует одно изображение и последовательность ограничивающих рамок для генерации видео с заданным объектом и траекторией движения. Система вводит референсное внимание и маскированный модуль движения для балансировки между сохранением объекта и контролем движения. Эксперименты показывают превосходство DreamVideo-2 над современными методами в области персонализации объектов и контроля движения.', 'categories': ['#cv', '#video', '#multimodal', '#dataset'], 'emoji': '🎬', 'title': 'Создание персонализированных видео одним щелчком', 'embedding': [0.0598605452742462, 0.020360907818076587, -0.06812972206913824, -0.022935273294452933, -0.0972538825681013, -0.08279581440267496, 0.08061150543769557, 0.11015172052191567, 0.015576223429691845, 0.08035147262379247, 0.057312179954742026, -0.009289826471657858, -0.03240062394643217, -0.03682125677121994, 0.01229325494377569, -0.008886768632017568, 0.06116073017388255, -0.07655493105044466, -0.027979993204656484, -0.040461774490201725, 0.01900871218963544, 0.008236675557295766, 0.026536788695114367, -0.024053434182851077, 0.043868259552152594, -0.04511643788900833, 0.05302156666142394, 0.0672976066495879, 0.03562508291413274, -0.023962421135725928, 0.021193023237626927, -0.0486269423255567, -0.029358191072981894, -0.17276866778184893, -0.00880225624901409, 0.08534418180519122, 0.023026286341578085, 0.10266265258379337, -0.07629489198750529, 0.062200878093591636, 0.07473467010794166, -0.051851399210245175, 0.09356135412031473, 0.13802769226896255, -0.06578939549882906, 0.06890983509193213, 0.011857692117117374, 0.05026517717380938, -0.04196998980698473, 0.1434364831147755, -0.08050749022912224, 0.16361536067257762, -0.05726017339196141, 0.031100439046795818, 0.010960563807314059, 0.030788395504087927, 0.03377881973174549, 0.038745530839284156, -0.005811829313440811, 0.014055005326557037, -0.03767937651366664, -0.02194713402053656, -0.037029285105354505, 0.018371620859759397, 0.036769246042415146, -0.10973565968762236, -0.14759707062758765, 0.018215601171417538, 0.04100785277295262, 0.03206257816384001, 0.05668809078631416, 0.012182738654478276, 0.0069104863347630606, 0.002406968584315525, -0.033388765303360636, -0.014718100979329435, 0.034090865357465465, 0.04485640299209314, -0.024352475564110788, -0.030710382535398865, 0.011961707325690699, -0.056220023389240245, 0.002210315579189051, 0.033830830460550285, -0.15321387106042636, -0.04342619856098712, 0.04118987886720292, -0.02491155600830986, -0.058456343083024435, -0.03552107187158359, -0.03793941557660599, 0.03970766787331626, -0.08940076244147839, 0.11129588365019807, 0.06027660402552742, 0.07821916605556951, 0.02132304381060265, -0.02158308183203596, 0.23424143733241523, 0.026939845284947403, 0.008665736470025158, -0.03398685223190423, 0.011558649902652826, -0.07067808947165449, 0.1366755153876302, -0.06755763946349098, 0.03518302192296725, 0.09699384350516195, 0.010772037257243301, 0.06235689986494558, 0.025951703928018943, -0.03398685223190423, -0.048756957691002197, 0.05668809078631416, 0.02578267999521682, -0.11691268616604887, 0.0428281137154556, -0.008191169033733191, -0.053073577390228735, -0.013859978112364607, 0.015537217778552149, -0.016941418511665453, 0.04009772230170113, -0.016226316296112438, 0.08602027961941179, -0.07437061791944108, 0.020425914459293294, -0.01974981872808481, -0.09122102338398137, -0.11701670345763429, -0.029930271595617057, 0.04922502717108821, 0.09527760402026855, 0.00024439425487858687, -0.10952763760252407, -0.026575793096446806, -0.0060003562801139885, 0.05746820172609597, -0.09184510630337298, 0.06459321955872978, 0.016889409865872746, -0.04129389615878833, 0.017331472940050316, 0.06703756758664853, -0.004696920631814383, -0.0066699519721044286, 0.007840119006680772, 0.01796856426992636, 0.02570466910953985, 0.11202398802719926, -0.05611601234669109, -0.0789472704325707, -0.08123559668913552, 0.036483206822603614, -0.04748277919727429, -0.057312179954742026, -0.061888834550883745, -0.002936794165256199, -0.08217173356629545, 0.008834761236032114, 0.0036015141508541773, -0.03879753740206478, 0.057156156100376, -0.032998708791963684, 0.0008597477205434317, -0.01158465401724797, -0.04483040075220888, 0.10411885925478366, -0.13230688704261098, -0.0789472704325707, 0.11119187260764891, -0.005727317555340959, -0.06974195259449456, -0.03754936114822113, 0.06682954341853815, 0.03947363521628535, -0.045558500963185894, -0.014042004206614906, -0.027875980079095246, 0.041579935378599865, 0.02803200185044919, 0.045220455180593734, -0.09038889754937059, -0.0028457811181310496, -0.017162449007248195, -0.0012221744305617969, 0.054191736195614786, -0.004765180313007641, 0.0006537495941396376, -0.04488240731498949, -0.0736945201052205, 0.06937790040599397, -0.042490065849851356, -0.03991569829046292, 0.032426628269328524, -0.01229325494377569, 0.0907529497378712, 0.056168016826459624, 0.11171193823545511, -0.07140619593166778, 0.023949418974277752, -0.028682093258761324, -0.0019193989865753825, -0.07374652250197694, -0.02097199274204419, 0.06896184373772483, -0.05413972754982208, 0.11067179864779438, -0.1274181826547251, 0.0064781746733704165, 0.06558135883264615, -0.054815825364042656, 0.11015172052191567, -0.10297469820951333, -0.07723102053261686, -0.025210597389569572, -0.03903157214210778, 0.0008597477205434317, -0.0035690093721373623, 0.007807614644566374, -0.043504207363651994, 0.027147875702094055, 0.12450577764479286, -0.029670234615689788, -0.048756957691002197, -0.027303897473448, -0.029670234615689788, -0.08596827305663117, -0.04425831606354954, -0.028942130238688597, 0.025522643015289552, 0.03206257816384001, -0.0027742708965757482, -0.092781245263545, 0.02873410190455403, -0.08576024055647244, 0.018553646954009698, -0.0983980456963837, 0.09371737380865659, -0.07967537480957189, -0.0373933372938551, -0.0005168237944346723, -0.03632718505124966, -0.058508351728817146, 0.00575007092127285, 0.05856035829159777, -0.10463893946367446, -0.07083410915999636, 0.09886611101044554, -0.04867894888833731, 0.15716642815609186, -0.043296176946505345, -0.022441203657494746, -0.018579653359918135, -0.013963992279431889, -0.0718222525999369]}}, {'id': 'https://huggingface.co/papers/2410.13198', 'title': 'Failing Forward: Improving Generative Error Correction for ASR with Synthetic Data and Retrieval Augmentation', 'url': 'https://huggingface.co/papers/2410.13198', 'abstract': 'Generative Error Correction (GEC) has emerged as a powerful post-processing method to enhance the performance of Automatic Speech Recognition (ASR) systems. However, we show that GEC models struggle to generalize beyond the specific types of errors encountered during training, limiting their ability to correct new, unseen errors at test time, particularly in out-of-domain (OOD) scenarios. This phenomenon amplifies with named entities (NEs), where, in addition to insufficient contextual information or knowledge about the NEs, novel NEs keep emerging. To address these issues, we propose DARAG (Data- and Retrieval-Augmented Generative Error Correction), a novel approach designed to improve GEC for ASR in in-domain (ID) and OOD scenarios. We augment the GEC training dataset with synthetic data generated by prompting LLMs and text-to-speech models, thereby simulating additional errors from which the model can learn. For OOD scenarios, we simulate test-time errors from new domains similarly and in an unsupervised fashion. Additionally, to better handle named entities, we introduce retrieval-augmented correction by augmenting the input with entities retrieved from a database. Our approach is simple, scalable, and both domain- and language-agnostic. We experiment on multiple datasets and settings, showing that DARAG outperforms all our baselines, achieving 8\\% -- 30\\% relative WER improvements in ID and 10\\% -- 33\\% improvements in OOD settings.', 'score': 2, 'issue_id': 146, 'pub_date': '2024-10-17', 'pub_date_ru': '17 октября', 'data': {'desc': 'Статья представляет новый подход DARAG для улучшения генеративной коррекции ошибок (GEC) в системах автоматического распознавания речи (ASR). DARAG использует синтетические данные, созданные с помощью языковых моделей и систем text-to-speech, для расширения обучающего набора данных. Метод также включает коррекцию с использованием извлечения информации для лучшей обработки именованных сущностей. DARAG показывает значительные улучшения в сравнении с базовыми моделями как для доменных, так и для внедоменных сценариев.', 'categories': ['#nlp', '#asr', '#rag', '#dataset'], 'emoji': '🗣️', 'title': 'DARAG: Улучшение коррекции ошибок ASR с помощью синтетических данных и извлечения информации', 'embedding': [0.013070845545549601, 0.08820247201533596, 0.15664429966562254, 0.11578504266521963, -0.08125536864528904, 0.060774284500847445, 0.012125267575596912, 0.08578385217728078, -0.052283382182198405, 0.10328026389033881, 0.06941956995489162, -0.09000357348915089, -0.03293441537641964, -0.06447940278762627, -0.0274281915651572, -0.027582570649883675, 0.0505337404032923, -0.06180348447502697, 0.016197041251936977, 0.04981330062390007, 0.018036738509600695, 0.03229116108872196, 0.021793318516622695, 0.04618536782881579, 0.00847160554065853, 0.020867037932260815, 0.07394804741088036, 0.12319528734011465, 0.051691591640078235, -0.05465054030001042, 0.009526535969892773, -0.016956076815178002, -0.07317615198724797, -0.0869159735666123, 0.06283268647454084, 0.13554568297960035, 0.02827728260715584, -0.005741008264217091, -0.034658325282537, 0.06514838287210968, 0.0211629332033209, -0.06350166453368991, -0.024842323667979657, 0.02747965126006602, -0.061237423780361205, 0.05310673932607395, 0.06777284554046885, -0.04067914401755335, 0.01925891233968832, -0.0698827092344054, -0.10806604792220902, 0.014614645709352328, -0.05295236226668181, 0.006972832609901025, -0.013765555477487425, -0.14151505214637955, -0.059796544221576736, 0.05737792235818723, -0.04852680014984207, -0.02982108155575796, 0.00421007302414157, -0.05192316229250229, -0.013341010564088407, 0.017149050671086095, -0.02753111095497485, -0.025897255514947943, -0.037720191306952484, 0.07538892899499917, -0.04585087778657408, 0.03010411190309084, -0.002542446551730443, 0.014576050330570408, 0.001270419319398988, -0.12525368728847372, -0.08784225415097417, 0.008317225848331751, 0.09921491963786085, 0.06746408939635024, -0.0028029628774738436, -0.02482946076958679, 0.05153721053001741, -0.005110623355982166, 0.0037051215273137756, -0.0038112577556635298, -0.055937040774068414, -0.0624210068899359, -0.049839030471354476, -0.05712062388364309, -0.033474744198296644, -0.014395940790789217, -0.030644442750302186, -0.01873144844153852, -0.03463259340974824, 0.01804960140799356, -0.012633434898289641, 0.05439324182546629, 0.013971395472323329, -0.069007886319618, 0.14522017853449573, -0.01700753853542117, 0.03638223518865435, -0.05480492141007123, 0.017187647467602058, -0.11321204779310666, 0.09834009672307345, -0.1286500474057996, -0.06427356805865965, -0.035095732689262006, -0.035816174493988585, -0.05115126079286689, -0.07240425048761256, -0.041168017195190205, -0.09890615741773921, -0.06334728139829476, 0.05241202939413613, -0.09947221811240496, -0.09725944110465377, 0.0022401190213401875, -0.008915448244715225, 0.07029438476834167, -0.048218039955054776, 0.03537876303659489, 0.020442493423928666, -0.09931783902767849, 0.07019146537852401, 0.01215742988491493, -1.1815954464534821e-05, -0.05629726066376453, 0.0058825234378835295, -0.05212900107213759, 0.034401022757324186, 0.05789252133260982, 0.04461583700742491, 0.02992400297090995, -0.10827188265117564, -0.03074736214011984, -0.08578385217728078, -0.04595379920172608, -0.0620607829495711, -0.015283625996369173, -0.048192308082266024, 0.05511368363019286, -0.039366913696040944, 0.033577663588114294, -0.0946349824869633, -0.028174361192003845, -0.010388491935618619, 0.0035989852989640214, -0.04582514996445401, 0.16528959119566974, -0.15355669771774963, 0.00014774654008343192, -0.061752024780118146, -0.006120526349637753, -0.039418373390949765, -0.08146120945025868, -0.10837480204099328, 0.042197217169369736, -0.0656115241769578, -0.08650429803267604, 0.0022964032651801494, 0.16415746980633825, 0.0034799837418201924, 0.008433011377077212, 0.06453086653320378, 0.07847653094287209, -0.12340113017041864, 0.024263400074921036, -0.058767344247397206, 0.007050022759864565, -0.08192434872977246, -0.03743716703562262, -0.05943632230654628, -0.03525011379932283, -0.04837241701444691, -0.10405215931397119, -0.014048585217220003, -0.028225820886912674, 0.0032902251041767284, -0.09056963418381664, -0.11280036415783304, 0.09432622026684168, -0.10008974255264824, 0.09700214263010964, -0.12206316595078315, -0.019053071534718677, 0.064170648668842, -0.04119374501731028, -0.05266933191934893, 0.044718756397242564, 0.00529394973429546, 0.015849687298635232, 0.22004305696150084, 0.07065461073404081, -0.006818452917574247, -0.04440999822778961, 0.14028001541789906, -0.00416826161696128, 0.045696496676513265, -0.12700332906737982, -0.0013733393168169409, -0.008625986043119043, 0.07369074893633623, -0.0684932913958641, -0.045362010684940245, -0.05429032243564864, -0.009770970938443731, 0.03859501422173988, -0.030181303470788422, -0.01668591139157233, 0.08727619345630841, -0.07266154896215671, 0.0016692344461036234, 0.026450451285886495, -0.05835566263745792, -0.04446145792269844, -0.050276441928748174, -0.0016547613461504861, 0.0031551423923738913, -0.048089388692448366, -0.0027161242372483324, -0.0030908173686709918, 0.014434536169571136, 0.02894626066630491, -0.05423886071540547, -0.04296911866900514, 0.010420654244936635, -0.06952249137004363, 0.04543919820196914, -0.07832214983281127, -0.036227854078593524, -0.015245030617587252, -0.010722981572793458, -0.013508255787742694, 0.030978932792543896, -0.016660181544117917, 0.0207126568222, -0.05025071005595942, 0.04904139912426467, 0.1298850841342801, 0.0324198143766627, 0.07384513409706572, 0.0022240378666811794, -0.014563186216976937, -0.08413713586419536, 0.0897462770399411, -0.0643250237028998, -0.059796544221576736, 0.07719002844347976, 0.035147192384170835, -0.037051215273137754, -0.010324166101781983, 0.06957394701428377, -0.02095709239835126, -0.012395432999202587, -0.011031741970114183]}}, {'id': 'https://huggingface.co/papers/2410.13852', 'title': 'Retrospective Learning from Interactions', 'url': 'https://huggingface.co/papers/2410.13852', 'abstract': 'Multi-turn interactions between large language models (LLMs) and users naturally include implicit feedback signals. If an LLM responds in an unexpected way to an instruction, the user is likely to signal it by rephrasing the request, expressing frustration, or pivoting to an alternative task. Such signals are task-independent and occupy a relatively constrained subspace of language, allowing the LLM to identify them even if it fails on the actual task. This creates an avenue for continually learning from interactions without additional annotations. We introduce ReSpect, a method to learn from such signals in past interactions via retrospection. We deploy ReSpect in a new multimodal interaction scenario, where humans instruct an LLM to solve an abstract reasoning task with a combinatorial solution space. Through thousands of interactions with humans, we show how ReSpect gradually improves task completion rate from 31% to 82%, all without any external annotation.', 'score': 1, 'issue_id': 146, 'pub_date': '2024-10-17', 'pub_date_ru': '17 октября', 'data': {'desc': 'Статья представляет метод ReSpect, позволяющий языковым моделям (LLM) учиться на неявных сигналах обратной связи в ходе взаимодействия с пользователями. Авторы применяют ReSpect в сценарии мультимодального взаимодействия, где люди инструктируют LLM для решения задач абстрактного мышления. Эксперименты показывают, что ReSpect постепенно улучшает показатель успешного выполнения задач с 31% до 82% без дополнительной разметки. Это открывает возможности для постоянного обучения LLM в процессе взаимодействия с пользователями.', 'categories': ['#nlp', '#rlhf', '#multimodal'], 'emoji': '🧠', 'title': 'Обучение языковых моделей на неявных сигналах обратной связи', 'embedding': [0.056524341462789195, 0.04747250097350468, 0.03598035419393499, 0.03481694997135455, -0.008682955389278409, 0.06339125084371587, 0.031667248948417784, 0.10816806430853079, -0.01963596627683741, 0.1477805085070102, -0.0015331731232197075, -0.09783931571506431, 0.032972532519960365, -0.0030415172899454735, 0.013840233807012417, -0.07525228272329167, 0.026559630616803463, -0.03390892897933776, 0.019054263159467646, 0.09199393321991504, 0.02461589701748806, 0.0052140297548870455, 0.021792516887436934, 0.029042500108129556, 0.07440101065383702, -0.05595682809125881, -0.010449341311510455, 0.10010937523766307, -0.02965257869285993, -0.03246177008315121, 0.11344594148078603, -0.054878550270760204, -0.11049486671721445, -0.010704722529915035, -0.0459685911425969, 0.12212889485790535, 0.012201538896414474, 0.021877644295598308, -0.03813690379845498, 0.056325711179105835, -0.033114409856763415, -0.07065542079200926, -0.0812111751365197, 0.020203479648367786, -0.056467590528067976, 0.11248116955404801, -0.04321615068702685, 0.10289018512411649, 0.050678950919003596, 0.10124439996856474, -0.11509172864849686, 0.04466330757105432, -0.016003878284452096, 0.04250675997869342, -0.04452143023425127, -0.10884907954950362, 0.03765451884116552, 0.024786149821651723, 0.012102224157004612, 0.015549868190875518, -0.054254285964508604, -0.08206244720597435, -0.031468618664734424, -0.03873279062518689, -0.12371793109089496, -0.010342932302828626, -0.0999958753803797, 0.045628083522110494, -0.000269568891720111, 0.050054686612751996, 0.03206450750362541, -0.06753410127291033, -0.007242890359932007, 0.004632328649676362, -0.002456269351922668, 0.023367366392825783, 0.08001940148305589, 0.086999812733425, 0.02302685877233937, -0.0427053882502177, 0.047444125506144075, -0.05513393148916478, 0.046734732785651566, -0.06639907654200866, -0.07434426173127485, 0.0010844827154567705, 0.0011359137027836708, -0.023750437214353107, -0.05729048310584385, -0.16560042273901862, -0.0012866594295204332, -0.03893142493318841, 0.009399441574179258, 0.05516230695652539, 0.10731679425123522, -0.01820299511433116, -0.0471887442877395, -0.10805456243908834, 0.108451820994296, 0.07616030170314936, -0.04506056612626196, -0.04923179403497612, 0.013684167931665424, -0.0628804884069067, 0.03861928875574444, 0.011364456572799215, 0.00010657503192760627, 0.028290546198755206, -0.023140361647861353, -0.05306250828672663, -0.11304868292557839, -0.02630424939839889, -0.06390201126836595, -0.10220916988314366, 0.09579626999214585, -0.0898941325379572, -0.21122851229760636, -0.07695482283788278, -0.02735414772721873, -0.020359544718851146, -0.033114409856763415, 0.014982355422992866, 0.08404873998201251, 0.017011215424390103, 0.03538446133072585, -0.11690777063253043, 0.007533741113753257, -0.06373175846420227, 0.02613399458207614, -0.008803552131640545, 0.00816510009170864, 0.0062568358265939995, 0.0031496996144254118, -0.03189425469946175, -0.07843035921358903, -0.013265627574721427, -0.08558102930459904, -0.008250227097438197, -0.039811070457844586, -0.06367500551732197, -0.027368335460899035, -0.010186866427481634, -0.0626534866801809, 0.018926573556344896, -0.08433249666777769, 0.011144545292243123, 0.0044904503067937675, 0.05953216112460475, -0.04097447065610687, 0.07343624073925807, -0.023253864523383336, -0.0754225375396144, -0.11128938583978878, 0.12644199205478623, -0.04806838780023659, -0.03947056283735818, -0.09432073562859868, 0.006498028908886456, -0.015961315083411177, -0.018444186586896352, 0.03995294779464764, 0.07281197844516556, 0.040066449664090086, -0.0012112864655440978, -0.031667248948417784, 0.05082083026796572, -0.09403698095499258, 0.043386403491190516, -0.11599974964051364, -0.04125822734187206, -0.05768774166105148, 0.032234766344266315, -0.09250469565672419, -0.028914810505006806, -0.006934304637186513, -0.08444600658585645, -0.03765451884116552, -0.05405565568082525, -0.03334141560780739, -0.056439215060707364, -0.04679148573253186, 0.009931486013940687, -0.08944011902371017, -0.0522679871519932, -0.07099593444897291, -0.07513878085384922, -0.0904616418851694, -0.005526162310444661, 0.009541319715845945, 0.006994603612015306, -0.034504817818228756, 0.13030109384685185, 0.15288811275351094, 0.05851063625098643, 0.04151360856027664, -0.06009967650829421, 0.10782755668804439, 0.023012671038659064, -0.06305074322322946, -0.10924633810471125, 0.013677073863609364, 0.04344315643807082, 0.047358997091903166, -0.14880202130767403, 0.014003394957710918, -0.005756714693084843, -0.03773964323108827, 0.07491177711496433, -0.08228944893270015, 0.003183395834043976, 0.08433249666777769, 0.022544471802890823, 0.06872587693853323, -0.030674101554319162, -0.1075438000022792, 0.015379613978200497, -0.0858080370678021, 0.01695446448966888, -0.034362938469266614, 0.061915716480168706, -0.028787119895804517, 0.014152366966217756, 0.11895082239192614, -0.013513913920206313, -0.026346812599439804, 0.07360649555558083, 0.148007510233736, -0.051473470041577936, 0.014613471127850396, -0.11514847958321807, 0.0022576394706711285, -0.010470622912030915, -0.05592845262389821, -0.043301277089108685, 0.056268960244384617, -0.06140495605551863, -0.05277875160096143, -0.021381069592469458, -0.010257805900746793, -0.024474018674605465, 0.08637555043933248, -0.00018000817394187956, 0.09171017653414985, 0.014407747782190517, -0.016472078526299876, 0.05294900641728418, -0.0243605137869244, -0.00020184413636211446, 0.08631879749245218, -0.023452493800987153, -0.0221755887150438, -0.05879439293675163, -0.009214999829039838, -0.07320923700037318, -0.04423767354848609, 0.03722888280643819]}}, {'id': 'https://huggingface.co/papers/2410.09426', 'title': 'FlatQuant: Flatness Matters for LLM Quantization', 'url': 'https://huggingface.co/papers/2410.09426', 'abstract': 'Recently, quantization has been widely used for the compression and acceleration of large language models~(LLMs). Due to the outliers in LLMs, it is crucial to flatten weights and activations to minimize quantization error with the equally spaced quantization points. Prior research explores various pre-quantization transformations to suppress outliers, such as per-channel scaling and Hadamard transformation. However, we observe that these transformed weights and activations can still remain steep and outspread. In this paper, we propose FlatQuant (Fast and Learnable Affine Transformation), a new post-training quantization approach to enhance flatness of weights and activations. Our approach identifies optimal affine transformations tailored to each linear layer, calibrated in hours via a lightweight objective. To reduce runtime overhead, we apply Kronecker decomposition to the transformation matrices, and fuse all operations in FlatQuant into a single kernel. Extensive experiments show that FlatQuant sets up a new state-of-the-art quantization benchmark. For instance, it achieves less than 1% accuracy drop for W4A4 quantization on the LLaMA-3-70B model, surpassing SpinQuant by 7.5%. For inference latency, FlatQuant reduces the slowdown induced by pre-quantization transformation from 0.26x of QuaRot to merely 0.07x, bringing up to 2.3x speedup for prefill and 1.7x speedup for decoding, respectively. Code is available at: https://github.com/ruikangliu/FlatQuant.', 'score': 1, 'issue_id': 146, 'pub_date': '2024-10-12', 'pub_date_ru': '12 октября', 'data': {'desc': 'FlatQuant - это новый подход к квантованию после обучения, направленный на улучшение сглаженности весов и активаций в больших языковых моделях (LLM). Метод использует оптимальные аффинные преобразования для каждого линейного слоя, калибруемые за часы с помощью облегченной целевой функции. Для снижения накладных расходов во время выполнения применяется разложение Кронекера к матрицам преобразования. FlatQuant устанавливает новый эталон квантования, достигая менее 1% падения точности для квантования W4A4 на модели LLaMA-3-70B.', 'categories': ['#nlp', '#quantization', '#compression', '#optimization'], 'emoji': '🔢', 'title': 'FlatQuant: Быстрое и обучаемое квантование для ускорения больших языковых моделей', 'embedding': [-0.0538835238565573, 0.05009247193608032, -0.05914045448070611, -0.010760277226601054, 0.013900533735727577, -0.06449847845901988, 0.004331279772188328, 0.08365594281889625, -0.0778429917277218, 0.05029466064987263, 0.028255992578853452, 0.05590541901632998, -0.12202141721300032, 0.08699206562105015, 0.03267889149973259, 0.018272882971330638, 0.15346189356549142, -0.020774980086602054, -0.0721311279743251, 0.07642766270932605, -0.049485899778316196, -0.13860095591876637, 0.011461621922135103, -0.05267038555741625, 0.0314404803634159, -0.07132237311915586, 0.056916366596216315, -0.11706777066227116, 0.03328546165203431, -0.053832974171281224, 0.03295690073051421, -0.03803691547804635, -0.07688258982218674, -0.09887070820792984, 0.0010686034807974977, -0.0040690651621834, -0.006533251016228954, -0.020231594032701822, -0.019384925910844335, 0.0364952182628476, 0.029646046754611168, -0.08699206562105015, 0.011897593604929107, 0.035812831604481364, 0.046680520595087524, 0.05087595395407391, 0.08562728829339285, 0.09679826536834349, -0.0890645104660989, 0.09871906717395121, 0.009130123075825171, 0.06035359077438475, -0.10084205568788884, -0.0361666613522523, -0.018209699875660346, 0.06348752486274632, 0.05615815540993596, -0.005443322511155783, 0.09624224089039303, -0.02254413885276875, 0.03889622202395406, -0.11373164184373008, 0.018828905443818687, 0.07920776704991667, -0.0439762347660238, 0.02807907870769918, -0.17752244877443366, 0.04501245518308578, 0.000387398400768598, -0.02298642754157922, -0.0427883713095208, -0.008428778380291121, 0.06924993027956951, 0.03803691547804635, -0.06626763722518657, 0.022101848158495873, -0.045214645902340485, 0.17388304791524734, 0.028458183298108158, -0.03328546165203431, -0.020067316580135372, -0.011392119413893457, -0.011771224806487394, -0.0243512068746989, 0.010728684375215345, -0.00021206211859011625, -0.0395786086823203, -0.016048799097765652, -0.09351268623507848, -0.03644467459395873, 0.027472509558128657, 0.04569484585237682, -0.06257767665341214, 0.0006835745338555157, 0.015277950289620036, 0.009168033534866069, 0.08754808809353819, 0.059797570307359105, 0.07577054888813545, -0.0005110025890722291, 0.07182784791183024, 0.060404140459660825, 0.13587140126345182, -0.07703423486709017, 0.09583785945188363, -0.07839900818382264, -0.0047198629800887315, -0.004419737911042904, 0.033942577478687314, 0.06586325979760195, 0.012914859795201837, 0.028938385253606893, -0.15396737036362818, 0.005174789892403184, -0.05322640602444189, -0.10544186847992225, -0.11443930535019675, 0.011025651242072299, 0.012769536168332155, -0.004865187008050892, -0.00474513661944933, -0.049966099728352524, 0.03439750058062321, 0.0132181438686215, 0.06525668763983783, -0.08011762127563805, 0.05802840953573001, -0.060555779488177065, -0.039325874294176714, 0.04746400461854352, 0.08658768418254072, 0.06712694577655667, 0.018361341912370176, -0.07804517643058931, -0.008466688839332019, -0.029999880513306907, -0.031263564486799233, 0.07688258982218674, -0.052114367095853, 0.028154899224688498, 0.04281364615215883, 0.015101034814095849, -0.0027232408580379294, -0.023138070581020253, -0.03657104078529932, 0.07076635666305502, 0.040185178834622026, 0.03735452480875531, -0.028812015051341497, 0.0540857125703496, -0.05939318886884969, -0.07723641956995768, -0.07460795425788327, -0.0061699414476891505, -0.05332750338953165, -0.05868552536238301, 0.021962843543105064, 0.0872953516999322, 0.0631336951149754, -0.07723641956995768, 0.008864749461446407, 0.07379919138086444, 0.019208010034227663, 0.02906475345040988, 0.07293989085134392, -0.03391730263604928, -0.10564405518825215, -0.05221545844455556, -0.11332726441614546, -0.10392544209643673, 0.02719449932461583, -0.05332750338953165, 0.0070703168553728725, -0.10978893886196248, 0.005383297818220602, -0.01674382418018211, -0.020282143717977902, -0.17519727555762854, -0.10154971718889311, -0.04766619333233582, 0.030530626137694514, 0.07764079900300469, -0.05974702262754543, 0.04620031863958879, -0.05696691427603, -0.006785987810927419, -0.04910679518790722, 0.10261121645951793, 0.020547516530171707, 0.0974048274987956, -0.0842119592749971, 0.0611117999552027, 0.09482691187199728, 0.0500166494136286, 0.04076647614974811, 0.0027279797656911617, 0.049485899778316196, 0.03204704851025522, 0.02505887038116558, -0.12363893293972598, -0.00998311101134649, -0.007228277502469092, 0.00830240978239565, -0.07976379152786713, 0.05534939854930433, -0.05908990680089243, 0.015480139805597306, -0.03285580737634926, -0.10306614357237863, 0.005733970165987627, 0.030429530778067163, 0.06429628773976516, 0.11868529039992162, 0.020876075446229405, 0.03298217557315225, 0.06414464670578653, -0.0226452342123961, 0.049056249513555944, -0.0034909296590785086, 0.05949428422847704, -0.01944811101197703, -0.014090086030932068, -0.0028606665728805433, 0.014974666015654135, -0.14921590851576655, -0.04149941249339043, 0.08542509757413816, -0.08133075957477912, 0.13081666536948253, -0.1115075539592403, 0.06540833268474126, -0.03715233408950061, -0.049966099728352524, -0.012750580537719226, 0.06419519238013781, -0.06449847845901988, -0.0009722475702982239, -0.05914045448070611, -0.016440540106762446, -0.06611599418574553, -0.020534880111583886, -0.04458280291286312, 0.0325525212974672, -0.11160865132433005, -0.00779693579190624, 0.06566106506742243, -0.09315885448184513, -0.056714175876961606, 0.12505425794719693, -0.01846243526653513, -0.014330187209227675, 0.016377356008360953, -0.03970498089004809, -0.041120305897519055, -0.0410192105378917, 0.013622522499483555]}}, {'id': 'https://huggingface.co/papers/2410.13060', 'title': 'AERO: Softmax-Only LLMs for Efficient Private Inference', 'url': 'https://huggingface.co/papers/2410.13060', 'abstract': "The pervasiveness of proprietary language models has raised privacy concerns for users' sensitive data, emphasizing the need for private inference (PI), where inference is performed directly on encrypted inputs. However, current PI methods face prohibitively higher communication and latency overheads, primarily due to nonlinear operations. In this paper, we present a comprehensive analysis to understand the role of nonlinearities in transformer-based decoder-only language models. We introduce AERO, a four-step architectural optimization framework that refines the existing LLM architecture for efficient PI by systematically removing nonlinearities such as LayerNorm and GELU and reducing FLOPs counts. For the first time, we propose a Softmax-only architecture with significantly fewer FLOPs tailored for efficient PI. Furthermore, we devise a novel entropy regularization technique to improve the performance of Softmax-only models. AERO achieves up to 4.23times communication and 1.94times latency reduction. We validate the effectiveness of AERO by benchmarking it against the state-of-the-art.", 'score': 0, 'issue_id': 146, 'pub_date': '2024-10-16', 'pub_date_ru': '16 октября', 'data': {'desc': 'Статья представляет комплексный анализ роли нелинейных операций в трансформерных языковых моделях декодер-только архитектуры. Авторы предлагают AERO - четырехэтапную структуру оптимизации архитектуры, которая систематически удаляет нелинейности, такие как LayerNorm и GELU, и сокращает количество FLOP. Впервые предложена архитектура только с Softmax, специально разработанная для эффективного частного вывода (PI). Представлен новый метод регуляризации энтропии для улучшения производительности моделей только с Softmax.', 'categories': ['#nlp', '#rlhf', '#benchmark'], 'emoji': '🔒', 'title': 'AERO: Оптимизация архитектуры языковых моделей для приватного вывода', 'embedding': [0.025446526750403473, -0.0041747204080186135, -0.005767537006040542, -0.08200435461351573, 0.04390521287602846, 0.05980768834810024, -0.042338087804729405, 0.08909495727088422, -0.02587042115341261, 0.059550781229474485, 0.07131707062974338, -0.04457316812501423, -0.09135573013646729, -0.007366775925526732, 0.005346853356333383, -0.1354407826809805, 0.13153580914535437, -0.0705977343644626, -0.010256966444438652, 0.07260159603711841, -0.040514055614804596, -0.014926231273304946, -0.02612732827203837, -0.008529275187930034, 0.059704926315510234, 0.026641138434988384, 0.0586773019153087, 0.05595409990307061, 0.05991045038069024, -0.13718772908640756, -0.05338504093971752, -0.020847911531945568, -0.07280712213944916, -0.04462454914130923, 0.0063198845609324095, -0.05544028770296985, 0.025035476582892707, -0.05667343616835138, -0.015555650556354392, 0.048426756570043854, 0.02820826554343819, -0.031445279755777045, -0.13821535348660907, 0.074913753993298, 0.007829206498187273, 0.13266618335524138, 0.07275574316030492, -0.013012282508578958, -0.02611448199938924, 0.07362922043731995, -0.03694306479654823, 0.04434195355168673, -0.05667343616835138, 0.0046981658866007, -0.03768808953282575, 0.05446404635621407, 0.031933397373428804, -0.010886385931203174, 0.027540310294452416, 0.067463480147563, 0.060681167662266014, -0.12187614956178355, -0.020578160177821433, 0.015311590117807907, -0.07614690245867954, 0.04480438473549249, -0.14736121105583289, 0.12084852312443127, 0.037765163094419005, 0.07887010039661611, 0.0210405913616272, -0.014823469036999867, 0.014463800904359482, -0.036634778698778216, -0.05718724836845215, 0.03270411669215534, -0.06669276490313797, 0.1018374920922104, 0.045600790488065014, 0.009190807300591242, 0.039691955279783066, -0.028156884527143187, 0.09562036263755543, -0.01590247343492103, 0.009364219147304712, -0.06340436967450411, -0.0449585277843775, 0.02005150170507154, -0.08277506985794075, -0.08817009694042344, -0.025086857599187707, -0.041156320355642866, -0.07830491125452185, -0.0797949607270769, 0.10605074765130502, 0.029955224171769747, -0.016339214110579293, -0.028773458759833958, 0.07604413838893878, 0.16411145903671692, 0.053796091107228286, -0.03563284276957343, 0.060835310711151024, -0.029903843155474744, 0.04868366165151887, -0.008670573390171438, 0.07666071262162955, -0.025009786074745202, -0.040642510192692854, 0.0005407065624858204, -0.04912040436432789, -0.03966626680878632, -0.06479166118877065, -0.011098334151283121, -0.014874850257009945, -0.13441315420647745, -0.12054023702666125, 0.09515793960235268, 0.0078677424641236, 0.03362897905976687, -0.011477269452031367, -0.03159942280466205, 0.0886839091405242, 0.05089305146365619, 0.05621100498454562, -0.03522179463921342, 0.02838809910047069, -0.09402755113241038, 0.12423968242280588, 0.0078934329722711, 0.021914070675792978, 0.008272369291594726, 0.09228059046692808, -0.08323750307889727, -0.04046267256135884, -0.018214627316799105, -0.057906584633732924, -0.0032562819915919455, -0.027540310294452416, -0.0071805192321696635, 0.06042426258079101, 0.04863228063522386, -0.01316642616860919, -0.02069376644590981, -0.1707910318980822, 0.015195982627429081, 0.010436800816331459, -0.029878152647327242, -0.0211433533942172, 0.08534412882129383, -0.036788921747663225, -0.048221232504863855, -0.060835310711151024, 0.04156737052315363, -0.09238335249951807, -0.07650656549844304, 0.020886448312742195, 0.10687284391202506, 0.08801594981723693, -0.053950234156113296, -0.02404638998206317, 0.14283967347326978, -0.048426756570043854, -0.01957622832291815, -0.02823395605158569, 0.09767561347510924, -0.07131707062974338, -0.016647500208349302, -0.10445792596040622, -0.0255621350556426, -0.07347507738843494, -0.006246023789791889, -0.09073915590377653, -0.0795380597199034, -0.03460522040652265, -0.08714247254022191, -0.011798401822450504, -0.12495901868808665, -0.023609650324980285, -0.05508062058890483, -0.12793911763319674, 0.15527390386246917, -0.05148393722535021, 0.04436764202268347, -0.07316679536496644, 0.05626238600084062, -0.03722566038617074, 0.07984634785482415, 0.0748623689027015, 0.047424824715140576, -0.037482565467645744, 0.13636562875138603, 0.127219789516519, 0.03591544039634669, 0.035247485147360924, -0.036429252596447456, 0.08955738438038847, -0.014463800904359482, -0.06474028424677716, -0.05538890668667484, 0.028465170624913196, -0.030623180439330894, -0.02404638998206317, -0.1778816202953954, 0.06078392969485602, 0.01996158594513066, 0.08904357421743847, 0.012427821512930102, -0.04621736472075578, 0.06417508491892913, 0.03653201462903746, 0.002736047673741991, 0.051278413160170205, -0.03614665293252344, -0.03380881261679937, -0.0020953884114122473, 0.013628856333839577, 0.005048200537044693, 0.048478137586338864, 0.10096400259229085, -0.014643634461391986, 0.009422022485063975, 0.01884404578498825, -0.00018585534410144416, -0.037842234618861506, 0.05307675484194752, 0.0346565993856669, -0.10425239985807545, 0.02404638998206317, -0.03547869972068843, 0.08832423591500693, -0.015234518185935257, -0.05626238600084062, 0.0006081443399023312, 0.03825328274922152, -0.014258276024319174, 0.03935798071101631, -0.05168946129053022, -0.029621247565852236, -0.04775879928390733, -0.06278779747896408, -0.04390521287602846, -0.029878152647327242, -0.03951212375990131, -0.05646791210317138, 0.07419441569086646, -0.02278755202710951, -0.014271121074677848, 0.07398889162568645, -0.021759927626907972, -0.01384722667166871, 0.021811308643202975, -0.03362897905976687, 0.010070710362226811, -0.09541483857237543, -0.018253162060444982]}}];
        const articlesContainer = document.getElementById('articles-container');
        const sortDropdown = document.getElementById('sort-dropdown');
        const categoryFiltersContainer = document.getElementById('category-filters');
        const categoryToggle = document.getElementById('category-toggle');
        const clearCategoriesButton = document.getElementById('clear-categories');
        let selectedCategories = [];
        let selectedArticles = [];
        let sortBy = 'default';        

        function loadSettings() {
            const isDarkMode = localStorage.getItem('darkMode') === 'true';
            const themeToggle = document.getElementById('theme-toggle');
            let settingSortBy = localStorage.getItem('sort_by');
            const sortDropdown = document.getElementById('sort-dropdown');
            
            if (isDarkMode) {
                document.body.classList.remove('light-theme');
                document.body.classList.add('dark-theme');
                themeToggle.checked = true;
                const title = document.getElementById('doomgrad');
                title.innerHTML = "хф найтли";
                const titleSign = document.getElementById('doomgrad-icon');
                titleSign.classList.add('rotate');
            }

            if ((!settingSortBy) || (settingSortBy === 'null')) {
                settingSortBy = 'default';
            }
            
            sortDropdown.value = settingSortBy;
            sortBy = settingSortBy;
        }

        document.getElementById('theme-toggle').addEventListener('change', toggleTheme);

        function getUniqueCategories(articles) {
            const categories = new Set();
            articles.forEach(article => {
                if (article.data && article.data.categories) {
                    article.data.categories.forEach(cat => categories.add(cat));
                }
            });
            return Array.from(categories);
        }
        
        function createCategoryButtons() {
            const categories = getUniqueCategories(articlesData);
            categories.forEach(category => {
                const button = document.createElement('span');
                button.textContent = category;
                button.className = 'category-button';
                button.onclick = () => toggleCategory(category, button);
                categoryFiltersContainer.appendChild(button);
            });
        }

        function toggleCategory(category, button) {
            const index = selectedCategories.indexOf(category);
            if (index === -1) {
                selectedCategories.push(category);
                button.classList.add('active');
            } else {
                selectedCategories.splice(index, 1);
                button.classList.remove('active');
            }         
            filterAndRenderArticles();
            saveCategorySelection();
            updateSelectedArticlesTitle();
        }

        function saveCategorySelection() {
            localStorage.setItem('selectedCategories', JSON.stringify(selectedCategories));
        }

        function updateSelectedArticlesTitle() {
            if (selectedArticles.length === articlesData.length) {
                categoryToggle.textContent = '🏷️ Фильтр';
            } else {
                categoryToggle.textContent = `🏷️ Фильтр (${formatArticlesTitle(selectedArticles.length)})`;
            }
        }

        function cleanCategorySelection() {
            localStorage.setItem('selectedCategories', JSON.stringify('[]'));
        }

        function loadCategorySelection() {
            const savedCategories = localStorage.getItem('selectedCategories');
            if (savedCategories) {
                if (savedCategories != '"[]"') {
                    selectedCategories = JSON.parse(savedCategories);
                    updateCategoryButtonStates();
                }
            }
        }

        function updateCategoryButtonStates() {
            const buttons = categoryFiltersContainer.getElementsByClassName('category-button');
            Array.from(buttons).forEach(button => {
                if (selectedCategories.includes(button.textContent)) {
                    button.classList.add('active');
                } else {
                    button.classList.remove('active');
                }
            });
        }

        function filterAndRenderArticles() {
            console.log(selectedCategories);
            let filteredArticles = selectedCategories.length === 0
                ? articlesData
                : articlesData.filter(article => 
                    article.data && article.data.categories && 
                    article.data.categories.some(cat => selectedCategories.includes(cat))
                );

            console.log('filteredArticles', filteredArticles)

            if (filteredArticles.length === 0) {
                selectedArticles = articlesData;
                selectedCategories = [];
                cleanCategorySelection();
            } else {
                selectedArticles = filteredArticles;
            }

            console.log('selectedArticles', selectedArticles)

            sortArticles(selectedArticles);
        }

        function clearAllCategories() {
            selectedCategories = [];
            updateCategoryButtonStates();
            filterAndRenderArticles();
            saveCategorySelection();
            updateSelectedArticlesTitle();
        }

        function renderArticles(articles) {
            console.log(articles);
            articlesContainer.innerHTML = '';
            articles.forEach((item, index) => {
                if ("error" in item) {
                    console.log(`Omitting JSON. ${item["raw_data"]}`);
                    return;
                }
                const explanation = item["data"]["desc"];
                const cats = item["data"]["categories"].join(" ");
                const articleHTML = `
                    <article>
                        <div class="background-digit">${index + 1}</div>
                        <div class="article-content" onclick="toggleAbstract(${index})">
                            <h2>${item['data']['emoji']} ${item['title']}</h2>
                            <p class="meta"><svg class="text-sm peer-checked:text-gray-500 group-hover:text-gray-500" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 12 12"><path transform="translate(0, 2)" fill="currentColor" d="M5.19 2.67a.94.94 0 0 1 1.62 0l3.31 5.72a.94.94 0 0 1-.82 1.4H2.7a.94.94 0 0 1-.82-1.4l3.31-5.7v-.02Z"></path></svg> ${item['score']}. ${item['data']['title']}</p>
                            <p class="pub-date">📅 Статья от ${item['pub_date_ru']}</p>
                            <div id="abstract-${index}" class="abstract">
                                <p>${explanation}</p>
                                <div id="toggle-${index}" class="abstract-toggle">...</div>
                            </div>
                            <div class="links">
                                <a href="${item['url']}" target="_blank">Статья</a>
                            </div>
                            <p class="tags">${cats}</p>
                        </div>
                    </article>
                `;
                articlesContainer.innerHTML += articleHTML;
            });
        }
        
        function sortArticles() {
            let sortedArticles = [...selectedArticles];
            if (sortBy === 'issue_id') {
                sortedArticles.sort((a, b) => b.issue_id - a.issue_id);
            }
            if (sortBy === 'pub_date') {
                sortedArticles.sort((a, b) => b.pub_date.localeCompare(a.pub_date));
            }
            renderArticles(sortedArticles);
            localStorage.setItem('sort_by', sortBy);
        }
        
        sortDropdown.addEventListener('change', (event) => {
            sortBy = event.target.value;
            sortArticles(event.target.value);
        });

        categoryToggle.addEventListener('click', () => {
            categoryFiltersContainer.classList.toggle('expanded');
        });

        clearCategoriesButton.addEventListener('click', clearAllCategories);
        
        function updateTimeDiffs() {
            const timeDiff = document.getElementById('timeDiff');
            timeDiff.innerHTML = '🔄 ' + getTimeDiffRu('2024-10-18 02:46');
        } 

        loadSettings();
        createCategoryButtons();
        loadCategorySelection();
        filterAndRenderArticles();
        updateSelectedArticlesTitle();
        updateTimeDiffs();  
    </script>
</body>
</html>
    