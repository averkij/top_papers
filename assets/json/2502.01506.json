{
    "paper_title": "TwinMarket: A Scalable Behavioral and Social Simulation for Financial Markets",
    "authors": [
        "Yuzhe Yang",
        "Yifei Zhang",
        "Minghao Wu",
        "Kaidi Zhang",
        "Yunmiao Zhang",
        "Honghai Yu",
        "Yan Hu",
        "Benyou Wang"
    ],
    "sections": [
        {
            "title": "Abstract",
            "content": "The study of social emergence has long been a central focus in social science. Traditional modeling approaches, such as rule-based Agent-Based Models (ABMs), struggle to capture the diversity and complexity of human behavior, particularly the irrational factors emphasized in behavioral economics. Recently, large language model (LLM) agents have gained traction as simulation tools for modeling human behavior in social science and role-playing applications. Studies suggest that LLMs can account for cognitive biases, emotional fluctuations, and other non-rational influences, enabling more realistic simulations of socio-economic dynamics. In this work, we introduce TwinMarket, a novel multi-agent framework that leverages LLMs to simulate socio-economic systems. Specifically, we examine how individual behaviors, through interactions and feedback mechanisms, give rise to collective dynamics and emergent phenomena. Through experiments in a simulated stock market environment, we demonstrate how individual actions can trigger group behaviors, leading to emergent outcomes such as financial bubbles and recessions. Our approach provides valuable insights into the complex interplay between individual decision-making and collective socio-economic patterns."
        },
        {
            "title": "Start",
            "content": "5 2 0 2 5 ] . [ 2 6 0 5 1 0 . 2 0 5 2 : r TwinMarket: Scalable Behavioral and Social Simulation for Financial Markets Yuzhe Yang1, Yifei Zhang2, Minghao Wu2, Kaidi Zhang1, Yunmiao Zhang2, Honghai Yu2, Yan Hu1, Benyou Wang1 1 The Chinese University of Hong Kong, Shenzhen 2 Nanjing University https://github.com/TobyYang7/TwinMarket"
        },
        {
            "title": "Abstract",
            "content": "The study of social emergence has long been central focus in social science. Traditional modeling approaches, such as rule-based Agent-Based Models (ABMs), struggle to capture the diversity and complexity of human behavior, particularly the irrational factors emphasized in behavioral economics. Recently, large language model (LLM) agents have gained traction as simulation tools for modeling human behavior in social science and role-playing applications. Studies suggest that LLMs can account for cognitive biases, emotional fluctuations, and other non-rational influences, enabling more realistic simulations of socio-economic dynamics. In this work, we introduce TwinMarket, novel multi-agent framework that leverages LLMs to simulate socio-economic systems. Specifically, we examine how individual behaviors, through interactions and feedback mechanisms, give rise to collective dynamics and emergent phenomena. Through experiments in simulated stock market environment, we demonstrate how individual actions can trigger group behaviors, leading to emergent outcomes such as financial bubbles and recessions. Our approach provides valuable insights into the complex interplay between individual decision-making and collective socio-economic patterns."
        },
        {
            "title": "Introduction",
            "content": "Recently, large language models (LLMs) have demonstrated the ability to capture intricate patterns in language use, decision-making, and social interactions [1, 2]. These capabilities have positioned LLMs as powerful tools for agent-based simulations in human behavior studies across various social science fields, including conversational dynamics [35], emotional responses [6], and creative reasoning [7, 8]. Such advancements open new avenues for social science research, enabling the modeling of fine-grained individual behaviors at the micro-level and the simulation of emergent phenomena at the macro-level. Financial markets, with their unique combination of high-resolution transactional data, observable collective phenomena (e.g., herding behavior & market crashes), and direct socio-economic relevance, provide an ideal testbed for studying how micro-level behaviors propagate to macro-level dynamics [9, 10]. However, existing agent-based models (ABMs) in social simulation primarily rely on rulebased approaches, which often oversimplify human decision-making by assuming homogeneous agents and static behavioral rules [11, 12]. These oversimplifications fail to capture critical intricacies of real-world economic behavior and struggle to scale to market complexity, obscuring causal links from individual decisions to systemic emergence. The study of social emergence phenomena, where micro-level individual behaviors aggregate to form macro-level collective outcomes, has long been central focus in social science [13, 14]. Equal contribution. Preprint. Under review. Figure 1: Overview of TwinMarket environment, where each user has unique persona within the social network, interacts with the environment in real-time, and influences it through their actions. This framework enables the study of emergent social phenomena. However, current methods often struggle to capture the dynamic interplay between individual biases (e.g., overconfidence) and emergent market phenomena (e.g., volatility clustering) [15, 16]. Recent advances in LLMs offer promising avenue to address this challenge, enabling the simulation of adaptive agents whose decisions are shaped by both private information and social interactions. Motivated by this potential, we propose TwinMarket, novel multi-agent framework that leverages LLMs to simulate investor behavior in stock market environment. By modeling agents that independently make investment decisions while interacting through simulated social media platform, TwinMarket provides unified perspective on how micro-level behaviors drive macro-level market dynamics. As illustrated in Figure 1, key innovation of TwinMarket is its use of the Belief-Desire-Intention (BDI) framework [17] to structure and visualize the cognitive processes of agents, providing transparent and interpretable modeling approach. Additionally, we develop social environment that enables agents to engage in dynamic information exchange and social influence processes, enabling the study of phenomena such as the emergence of opinion leaders and the dynamics of information cascades. Finally, by scaling our simulations to multiple financial assets and larger populations, we investigate how group size and interaction complexity affect collective behavior and emergent phenomena. Our research makes three key contributions: (1) Real-World Alignment: Our framework is grounded in established behavioral theories and calibrated with real-world data, ensuring theoretical rigor and realistic human behavior modeling. This enables the study of emergent social phenomena. (2) Dynamic Interaction Modeling: By leveraging an LLM-based framework, we capture diverse human behaviors and their interactions, particularly in the context of information propagation. This allows us to model how opinions spread, influence decision-making, and dynamically shape collective market behaviors in real time. (3) Scalable Market Simulations: We conduct large-scale simulations to analyze the impact of group size on market behavior, providing new insights into price fluctuations and emergent dynamics."
        },
        {
            "title": "2 Background",
            "content": "Traditional Agent-Based Models face two major challenges in simulating complex social systems: (1) customizing sophisticated economic decision-making for individual agents and (2) enabling agents to actively perceive and respond to external environmental changes. Recent research has made progress by incorporating LLMs into agent-based simulations. CompeteAI [18] introduces framework for modeling competitive dynamics; however, its agents rely on predefined prompts, limiting their ability to simulate nuanced economic behavior. EconAgent [19] designs economic agents with perception, 2 reflection, and decision-making capabilities to model macroeconomic dynamics but overlooks the influence of multi-agent interactions on emergent macroeconomic phenomena. Similarly, ASFM [20], which models stock market responses to regulatory policies, fails to adequately account for the role of agent interactions and collective decision-making in shaping market trends. Table1 provides comparison of these systems with TwinMarket, highlighting the differences in agent customization, social interactions, and simulation scale. System Agent Customization Social Interactions Simulation Scale CompeteAI EconAgent ASFM TwinMarket Highly customizable agents Simple predefined prompts Uses demographic info Two fixed strategies Competition between 2 restaurants No interaction considered No interaction considered Rich multi-agent interactions Less than 100 agents 100 agents Not disclosed 1000 agents, scalable Table 1: Comparison of TwinMarket with Existing Literature In our TwinMarket framework that leverages LLM-based agents to simulate complex human behaviors, we include rational decision-making, technical analysis, and behavioral biases such as herding and overconfidence [21, 22]. By grounding our model in established behavioral theories [23 25] and calibrating it with real-world data, we ensure both theoretical rigor and empirical relevance. In TwinMarket, agents make investment decisions within socially embedded environment where interactions occur through price dynamics and social media, shaping collective market behavior via information propagation, behavioral imitation, and interaction mechanisms. This work demonstrates the potential of LLMs to bridge computational simulations and behavioral science by systematically modeling micro-level cognitive processes and their macro-level societal effects. By integrating LLMs with established theoretical frameworks, TwinMarket provides an experimental platform to study how individual decision-making aggregates into emergent social and economic phenomena. Our findings illustrate how LLMs can simulate real-world behaviors, validate behavioral theories, and uncover mechanisms underlying social emergence, advancing the academic understanding of complex human systems."
        },
        {
            "title": "3 Framework of TwinMarket",
            "content": "At the micro level, we focus on realistically modeling individual user behavior in the stock market, capturing decision-making processes and interactions grounded in decision theories and validated by real-world trading patterns. Moving to the macro level, we construct an interactive, forum-like environment where distributed agents can exchange information, form opinions, and influence each others decisions, thereby simulating the emergent properties of real-world social systems. 3.1 Data Sources and Simulation Setup Table 2: Summary of data sources for TwinMarket. Usage Construct Initial User Profile Source Quantity/Time Period 639 users 11,965 transactions Xueqiu1 Update Fundamental Stock Data Train Stock Recommendation System Guba Stock Forum2 CSMAR3 Sina5 & 10jqka6 CNINFO7 Build Information Retrieval Database 83,246 transactions Jan 2023 - Dec Jan 2023 - Dec 2023 Data Type User Profile Transactions Details Transactions Details Stock Data4 News Articles Company Announcements 1 https://xueqiu.com/ 4 We choose the 50 largest and most liquid stocks on the Shanghai Stock Exchange (known as the SSE 50 index). 5 https://www.sina.com.cn/ 2 https://guba.eastmoney.com/ 6 https://www.10jqka.com.cn/ 3 https://data.csmar.com/ 7 http://www.cninfo.com.cn/new/index.jsp Data Sources. As shown in Table 2, TwinMarket integrates real user profiles, transacation details, stock data, news and announcements to create realistic social simulation environment. Details about our data sources can be found in Appendix B. 3 You are male investor based in Hubei, actively using Xueqiu to share and gather investment insights. As an ordinary investor with modest following, your profile reflects typical retail investor characteristics. Your trading behavior exhibits clear pattern: you quickly sell assets that gain more than 10%, locking in profits, but tend to hold onto or even double down on losing investments, often ignoring the risks of over-concentration. While lottery-type assets occasionally catch your attention, they rarely influence your overall strategy. Historically, your portfolio has underperformed the market average. You favor concentrated investments, heavily allocating to specific industry indexes, believing this approach will yield significant returns. Your trading activity is moderate, with regular adjustments to maintain portfolio balance and adapt to market conditions. Figure 2: An example of generated user profile, with demographics , investment style , and behavioral biases . Initial User Profile Construction. Using real transaction data and user profiles from Xueqiu, we computed behavioral biases following Suis pioneering work [26] and extracted key characteristics like demographics to construct joint distribution. This distribution was then used to sample and generate distinct agents, each initialized with trading records to provide historical trading baseline. Additionally, each agent was initialized with unique belief about the market environment and future expectations.Figure 2 illustrates an example of generated agent, with further details on the generation process provided in Appendix C. Market Environment Setup. TwinMarket simulates dynamic trading environment where agents decisions drive stock prices through an order-driven matching system. Initialized with given trading records, agents collectively determine price movements once the simulation begins, ensuring market environment consistent with real-world dynamics and grounded in financial principles. Technical details are discussed in Section 3.4. 3.2 Micro-Level Simulation: Individual Behaviors To model individual behaviors in financial markets, we employ the Belief-Desire-Intention framework [17], which is widely recognized for its ability to replicate human decision-making processes. However, in many simulations, agents are often exposed to homogeneous information flows, leading to behavioral convergence and lack of meaningful heterogeneity [27]. To address this limitation, our approach controls each agents perception field by tailoring the information accessible to them based on their unique profiles. The BDI framework allows us to construct individual user agents that mimic the behaviors and chain-of-thought [8] of real investor in the stock market. Specifically, the BDI model involves three interconnected components: belief, which represents the agents evolving understanding of the market environment based on incoming data and predictions; desire, which captures the agents objectives or preferences, guiding its pursuit of specific information or outcomes; and intention, which defines the concrete actions or strategies that the agent executes to achieve its goals. At the micro-level, our agents are equipped with three key functionalities: signal perception, planning, and decision-making. These capabilities allow them to replicate the nuanced behaviors of real-world investors. While financial decision-making may appear complex, it can be broken down into sequence of smaller, observable actions. For example, individuals receiving market information such as stock price movements, breaking news, or social media discussions process this information to align it with their financial goals or aspirations (desire), form an understanding of the market (belief), and ultimately execute specific trading or interact with other users through social media (intention). By replicating these granular decision-making processes, the agents establish solid foundation for simulating the broader social structures and dynamics of financial markets. Each agent is assigned unique role within the BDI framework, with clearly defined responsibilities and action spaces, as detailed in Table 3. comprehensive description of how these agents operate within the simulation workflow will be presented in Section 3.4. 4 Table 3: The definition and action space for each BDI agent. Agent"
        },
        {
            "title": "Belief\nDesire",
            "content": "Definition Market understanding & prediction Information retrieval goals Intention Environment interaction & decision making Action Space - Query, Search Social Media, Trading Figure 3: The overall workflow of the TwinMarket involves the following iterative process: ① User Data Initialization: User profiles are initialized using Snowball data and their calculated behavioral biases. ② Daily Simulation: Using LLMs to simulate daily user behavior, distinguishing between trading and non-trading days. ③ Iterative Trading & Update: The system iteratively executes trades on trading days and updates user profiles on all days, looping back to simulation. ④ Post-Simulation Validation: System performance is validated using micro and macro metrics after simulation completion. 3.3 Macro-Level Simulation: Social Interactions In the financial market, information flow is fundamental driver of collective behavior and market dynamics. Graphs provide natural and powerful framework for modeling how information propagates through network of interconnected agents, making them indispensable for macro-level simulations [28]. The market we are designing is inherently dynamic, with agents whose behaviors evolve over time. This dynamic nature requires the system to be adaptive and scalable, capable of responding to shifts in individual agent behavior and interactions. To meet these requirements, we adhere to two fundamental principles. First, the graph structure must be dynamic, able to evolve in response to the changing patterns of individual agents. Second, the agents must be capable of aggregating and processing environmental information through their interconnected relationships. These principles guide the construction of framework that links micro-level interactions with macro-level systemic dynamics, enabling the system to adapt and scale effectively. Social Network Construction. Let = (V, E) be social network where = {u1, u2, . . . , un} represents the set of user nodes, and represents the set of edges connecting users based on their trading behavior. Each user trades stock indexes belonging to industries = {i1, i2, . . . , im}, as defined in Appendix B.1. We define the graph such that users with more similar trading behaviors have stronger connections in the social network. This reflects the idea that individuals with similar trading patterns are more likely to share information and influence each other, leading to higher homogeneity in the information they receive. To model the dynamic nature of trading behavior (detailed in Appendix D.1), we introduce time decay factor λ. This factor ensures that more recent trades have greater influence on the graph structure, while older trades contribute less. For trading record (u, i, t), where user trades in industry at time t, we compute the time-decayed weight of their interactions as: w(u, i) = (cid:88) eλt tT (u,i) where is the time difference (in days) between the current time and t. To quantify similarity, we calculate the weighted Jaccard similarity S(u1, u2) between users u1 and u2: S(u1, u2) = (cid:80) (cid:80) iI min(w(u1, i), w(u2, i)) iI max(w(u1, i), w(u2, i)) An edge (u1, u2) is created with weight S(u1, u2), representing the strength of the connection between the two users. Information Aggregation Mechanism. To control the perception field of each agent and ensure they receive relevant information, we design an information aggregation mechanism based on social network interactions. For target user ut V, let (ut) denote the set of neighboring users of ut in the social network G, and let S(ut, u) represent the similarity between ut and neighboring user (ut). We consider only those neighboring users whose similarity with ut exceeds threshold τ , i.e., S(ut, u) > τ . For each such user u, we retrieve their posts (u) created within specified time range [ts, te], where ts and te are the start and end timestamps, respectively. Each post (u) is associated with metadata, including its creation time tp, upvotes up, and downvotes dp. To rank the posts, we compute hot score h(p) for each post using logarithmic scaling of net votes combined with time-decay factor: h(p) = (cid:40) log10(updp+1) (Tp+1)1.8 , Tp, if up dp > 0 otherwise (cid:16) tctp (cid:17) 86400 , 0.1 where Tp = max represents the time elapsed in days since the post was created, with tc being the current timestamp. This formulation ensures that highly engaged posts remain visible while older or negatively received posts decay more rapidly. The posts are then sorted in descending order of their hot scores, and the top posts are recommended to the target user ut, where is predefined maximum number of recommendations. This mechanism leverages the social network structure to aggregate information from users with significant similarity to ut, while prioritizing content based on engagement and recency. 3.4 Workflow Our design philosophy, as illustrated in Figure 3, simulates the complete workflow of users in realworld trading environment, from acquiring external information and making trading decisions to sharing insights with others. User Behavior. Users start by engaging with curated posts, where they can upvote, downvote, or repost content that resonates with their perspectives. Following this, they receive timely environmental updates, such as news and market developments, to stay well-informed. These inputs, combined with their current beliefs, shape users desires to seek specific information through targeted queries across news, announcements, and stock data. As users process this new information, they continuously update their beliefs, which in turn influence their evolving desires and ultimately form their intentions. These intentions lead to transaction decisions, while users actively share their beliefs and market views through posts, enriching the systems collective knowledge base for future decision-making processes. Dynamic Environment. To enable personalized decision-making and ensure distinct behavioral patterns across personas, we regulate each users perception field using recommendation algorithms. The stock recommendation system is driven by users portfolios and real trading data. Meanwhile, the post recommendation system dynamically adjusts based on post scores, which fluctuate in 6 real-time and influence their ranking and visibility. Additionally, each user interacts with these recommendations selectively, guided by their individual perception field. Once user interacts, information propagates dynamically, forming post-propagation chains that circulate throughout the market. Before trading, users can search for relevant news and announcements  (Table 2)  and access technical indicators (e.g., trading volumes) and fundamental indicators (e.g., P/E ratios). To maintain valuation consistency, fundamental metrics are scaled using ratio that aligns simulated prices with real-world values2."
        },
        {
            "title": "4 Results and Analysis",
            "content": "We conduct experiments on network of 100 users, starting with micro-level analysis to examine individual decision-making differences across various scenarios. We then shift to macro-level perspective, evaluating how collective behaviors influence overall market dynamics. Our findings the dynamic interplay between information propagation and collective highlight key aspect: behavior, where self-fulfilling prophecies, rumors, and shifts in sentiment trigger market fluctuations. Specifically, we observe how these phenomena drive trading behaviors and impact market stability, phenomena that were previously difficult to capture using traditional ABMs. 4.1 Experimental Settings Based on our framework, we implemented the environment as stock market with 10 representative indexes3 and 100 market participants entirely powered by GPT-4o [29]. The participants, consisting of fundamental and technical analysts, operate in simulation period of 5 months, from June 15, 2023, to November 15, 2023. Each agent is initialized with unique set of beliefs based on predefined persona (detailed in Appendix C.5), which influences their behavior bias and market assessment. The agents develop daily trading strategies and can freely choose to buy, sell, or hold positions, rather than being forced to trade. To facilitate information exchange, we implemented stock forum where agents can share insights and market sentiment. The simulation will terminate early if any stock price exceeds predefined volatility limits or if there is significant decrease in market participation. 4.2 Micro-analysis: Self-fulfilling Prophecy Figure 4: Simultaneous rise and fall of the price index and belief, illustrating their strong correlation. Self-fulfilling prophecy refers to the phenomenon where market participants act based on certain expectation, ultimately leading to the realization of that expectation [30]. In our BDI framework, we model users evolving expectations as belief, which is updated daily. The belief is structured along five key dimensions: the users view on economic fundamentals, market valuation levels, short-term market trends, sentiment of surrounding investors, and self-assessment 2Since fundamental metrics cannot be solely derived from agent-driven trading, they are adjusted based on the relative difference between simulated and real-world prices. 310 indexes are aggregated from SSE 50, detailed in Appendix B.1. 7 (detailed in Appendix D.3). Each of these dimensions is assigned an emotional score (higher score means more positive) using GPT-4o, and the agents overall sentiment is represented by the average score across the five dimensions. This granular breakdown allows us to capture how different aspects of belief influence investment decisions and market outcomes over time. Our results from the TwinMarket environment demonstrate that initial optimistic expectations often lead to increased buying activity, which in turn pushes stock prices higher. This reinforces investors confidence, creating self-reinforcing feedback loop that drives prices further away from fundamental values. Eventually, as prices become unsustainable and deviate from fundamental support, the market corrects sharply, leading to collapse, as shown in Figure 4. This observed pattern closely aligns with the classic bubble dynamics described in financial literature [31], highlighting the role of collective belief formation in driving both speculative booms and market crashes. 4.3 Macro-analysis: Stylized Facts Figure 5: (a) Fat-tailed return distributions, (b) the leverage effect, (c) the volume-return relationship, and (d) volatility clustering. The results demonstrate that TwinMarket successfully replicates real market phenomena. Existing studies have encoded key behavioral traits of market participantssuch as the interplay between fundamentalist and chartist trading, herding tendencies, and decision-making heterogeneityinto simplified rules, such as probability-based strategy switching and structural stochastic volatility (SSV) [3234]. This abstraction has been shown to effectively reproduce stylized facts of financial markets, including fat-tailed return distributions and volatility clustering [3537]. LLM-based users inherently integrate the aforementioned behavioral traits, as LLMs have been demonstrated to analyze financial markets using both fundamental and technical metrics [38, 39]. These agents naturally exhibit herding tendencies [21]. To further capture the heterogeneity of market participants, we construct personalized user profiles for each users. These profiles enable agents to autonomously exhibit both rational investment strategies and irrational behavioral biases during decision-making, mirroring real-world investors. Further details on these dynamics are provided in Appendix E.1. We compared the key stylized facts4 of TwinMarket with historical market data, ensuring that our simulations accurately reflect real-world market behaviors. Key comparisons of these stylized facts are shown in Figure 5. 4Stylized facts are empirical statistical patterns observed in real-world financial markets. They are commonly used to evaluate the effectiveness of simulated markets in replicating real-world dynamics[35]. 8 Non-Normality [40]: The log returns exhibit sharp peak and fat tails. Leverage Effect [41]: Negative returns show weak autocorrelation, indicating persistence in downturns. Volume-Return Relationship [42]: Trading volume is positively correlated with returns, which typically reflects collective behavior among investors. Volatility Clustering [43]: GARCH analysis5 shows that α + β is close to 1, indicating high persistence of volatility shocks. The results show that TwinMarket, through refined modeling of market participants and the market environment without relying on any rule-based techniques, is able to capture the macro-level dynamics of financial markets."
        },
        {
            "title": "5 Emergence of Group Behaviors",
            "content": "Figure 6: Impact of rumor propagation on user behavior and market dynamics. (a) Users belief scores significantly decline under rumor exposure. (b) Users exhibit stronger tendency to sell, leading to sharp increase in the Sell/Buy ratio. (c) The collective reaction to rumors triggers market downturn, causing notable drop in stock prices. In financial markets, individual decisions are not made in isolation but are embedded within complex social network. Price feedback, social interactions, and information flow create dynamic feedback loop that amplifies or dampens individual actions. Through mechanisms like social influence and herd behavior, individual choices are continually reshaped by the collective actions and expectations of others, leading to the emergence of market trends and fluctuations. Through detailed modeling of individual agent behavior and their social interactions, our simulation demonstrates how macroscopic market phenomena emerge organically, validating core tenets of economic theory and mirroring empirical market observations, without imposing artificial constraints or pre-defined rules. 5.1 Information Propagation Previous financial research has explored various phenomena, such as echo effects [45, 46], that arise from information propagation. To further investigate the mechanisms behind this propagation and its potential impact on the market, we begin by selecting the most important news or reports each day, which are then forcibly pushed to high-centrality users. This approach reflects the information asymmetry present in the market environment and enables us to study the dynamics of information flow. In addition, to compare and validate the impact of information on the market, we also replace set of news with rumors, which are shown in Appendix D.4. These rumors are more extreme and sensational compared to regular news, potentially amplifying the effects of information flow in the market. Further explanations and results will bee illustrated in Appendix D.2. Intimation & Polarization. In TwinMarket, graph edges represent behavioral similarity, meaning users closely connected exhibit stronger intimation effects. As shown in Figure 8, high-degree 5GARCH model is widely used to model time-varying volatility in financial markets [44]. In the GARCH framework, α represents the sensitivity of current volatility to past returns or shocks, while β captures the persistence of past volatility. 9 Figure 7: The adjacency matrix heatmap highlights distinct density patterns, particularly in the red-boxed regions, indicating strong behavioral polarization among user groups. Figure 8: Average likes trends in high-centrality users and low-centrality users. users receive more upvotes, indicating their greater influence within the network. These opinion leaders [47] shape decision-making, fostering homogeneity and leading to polarization, as depicted in Figure 7. The networks adjacency matrix highlights clusters of trading similarity, further intensified under rumor conditions. This suggests that biased or extreme information spreads more rapidly in tightly connected groups, reinforcing polarization [48, 49]. Belief Divergence. Figure 6(a) shows that beliefs in normal and rumor scenarios increasingly diverge6, forming distinct echo chambers [50, 51]. This occurs as negative rumors replace normal news, shifting users market expectations [52]. Rumor-exposed users become more pessimistic, reassessing asset values downward, reinforcing their isolation, and further distancing themselves from unaffected groups[53]. This process exemplifies how biased information amplifies belief divergence and strengthens echo chambers in financial markets. Trading Volatility. Trading behavior in TwinMarket is primarily driven by users intentions and beliefs about the market, which in turn influence their buying and selling decisions. When belief evaluations fluctuate, particularly in response to rumors, these changes significantly impact trading activity [54, 55]. As shown in Figure 6(b), under the influence of negative rumors, the proportion of sell orders increased significantly. The Sell/Buy ratio to surge to 2.02 the baseline7, indicating amplified panic-driven selling behavior. Market Turbulence. The compounding effect of shifting beliefs and rumor-driven uncertainty leads to significant market instability. Figure 6(c) shows that while normal market conditions remained stable, rumor-exposed markets suffered sharp decline. This drop reflects panic-driven sell-offs and overreaction to misinformation [56]. As negative sentiment spreads, confidence erodes, reinforcing self-perpetuating downturns and destabilizing asset values. 5.2 Scaling Up Design To demonstrate the scalability of our framework, we expanded our simulation to include 1,000 agents, scale typically challenging for traditional agent-based models. The results, as depicted in Figure 9, 6In rumor-exposed scenarios, agents maintained 27.5% lower valuations than the control group. 70.997 vs 0. 10 Figure 9: Simulated and real index price comparison. reveal very similar overall trend and movement throughout the five-month simulation period. This finding aligns with research showing that complex systems can exhibit similar macroscopic behavior when scaled up [57], even if the individual interactions at the micro-level become more numerous. In our case, it appears that the overall market dynamics can be well reproduced through emergent behaviors of LLM-powered agents. more comprehensive quantitative evaluation, including metrics such as RMSE, MAE, and lag analysis, are detailed in Appendix E.2."
        },
        {
            "title": "6 Conclusion and Future Work",
            "content": "In this paper, we investigate social emergence phenomena through LLM-driven agent methods. We introduce TwinMarket, novel multi-agent framework that leverages LLMs to simulate investor behavior in stock market environment. Our findings demonstrate that LLMs can effectively model real-world behaviors, validate behavioral theories, and reveal underlying mechanisms of social emergence, contributing to deeper understanding of complex human systems. Moving forward, we will explore the intrinsic properties of agent trust across diverse scenarios and examine broader implications, particularly in social science and role-playing applications. Additionally, we aim to gain deeper insights into LLM agent behaviors and the fundamental parallels between LLMs and human cognition. This line of research further paves the way for studying the alignment of LLMs with humans beyond value-based considerations."
        },
        {
            "title": "References",
            "content": "[1] Zahra Abbasiantaeb, Yifei Yuan, Evangelos Kanoulas, and Mohammad Aliannejadi. Let the llms talk: Simulating human-to-human conversational qa via zero-shot llm-to-llm interactions, 2023. 1, 16 [2] Wenyue Hua, Ollie Liu, Lingyao Li, Alfonso Amayuelas, Julie Chen, Lucas Jiang, Mingyu Jin, Lizhou Fan, Fei Sun, William Wang, Xintong Wang, and Yongfeng Zhang. Game-theoretic llm: Agent workflow for negotiation games, 2024. 1, 16 [3] Chaoran Chen, Bingsheng Yao, Yanfang Ye, Dakuo Wang, and Toby Jia-Jun Li. Evaluating the llm agents for simulating humanoid behavior. The First Workshop on Human-Centered Evaluation and Auditing of Language . . . , 2024. 1, 16 [4] Yuzhe Yang, Yifei Zhang, Yan Hu, Yilin Guo, Ruoli Gan, Yueru He, Mingcong Lei, Xiao Zhang, Haining Wang, Qianqian Xie, et al. Ucfe: user-centric financial expertise benchmark for large language models. arXiv preprint arXiv:2410.14059, 2024. 16 [5] Chengxing Xie, Canyu Chen, Feiran Jia, Ziyu Ye, Shiyang Lai, Kai Shu, Jindong Gu, Adel Bibi, Ziniu Hu, David Jurgens, James Evans, Philip Torr, Bernard Ghanem, and Guohao Li. Can large language model agents simulate human trust behavior?, 2024. 1 [6] Cheng Li, Jindong Wang, Yixuan Zhang, Kaijie Zhu, Wenxin Hou, Jianxun Lian, Fang Luo, Qiang Yang, and Xing Xie. Large language models understand and can be enhanced by emotional stimuli, 2023. 1 [7] Matthew Renze and Erhan Guven. Self-reflection in llm agents: Effects on problem-solving performance, 2024. 1 [8] Jason Wei, Xuezhi Wang, Dale Schuurmans, Maarten Bosma, Brian Ichter, Fei Xia, Ed Chi, Quoc Le, and Denny Zhou. Chain-of-thought prompting elicits reasoning in large language models, 2023. 1, 4 [9] Tommaso Ciarli, André Lorentz, Maria Savona, and Marco Valente. The effect of consumption and production structure on growth and distribution. micro to macro model. Metroeconomica, 61(1):180218, 2010. 1 [10] David Baqaee and Elisa Rubbo. Micro propagation and macro aggregation. Annual Review of Economics, 15(1):91123, 2023. 1 [11] Robin Matthews. The people and landscape model (palm): Towards full integration of human decision-making and biophysical simulation models. Ecological modelling, 194(4):329343, 2006. 1 [12] Yuning Wang, Jinhao Li, Tianqi Ke, Zehong Ke, Junkai Jiang, Shaobing Xu, and Jianqiang Wang. homogeneous multi-vehicle cooperative group decision-making method in complicated mixed traffic scenarios. Transportation Research Part C: Emerging Technologies, 167:104833, 2024. 1 [13] Max Weber. Economy and society: An outline of interpretive sociology, volume 1. University of California press, 1978. 1 [14] Emile Durkheim. The rules of sociological method. In Social theory re-wired, pages 914. Routledge, 2023. 1 [15] Gu. The dynamic interplay of market forces and human behavior: critical review of efficient market hypothesis and behavioral finance. Advances in Economics, Management and Political Sciences, 31(1):5459, 2023. 2 [16] Kiruthika and Ramya. Cognitive bias factors influencing investors investment decisions in behavioural finance perception. Journal of Research Administration, 5:280925, 2023. 2 [17] Anand Rao, Michael Georgeff, et al. Bdi agents: from theory to practice. In Icmas, volume 95, pages 312319, 1995. 2, [18] Qinlin Zhao, Jindong Wang, Yixuan Zhang, Yiqiao Jin, Kaijie Zhu, Hao Chen, and Xing Xie. Competeai: Understanding the competition dynamics in large language model-based agents, 2024. 2 [19] Nian Li, Chen Gao, Mingyu Li, Yong Li, and Qingmin Liao. Econagent: large language model-empowered agents for simulating macroeconomic activities. In Proceedings of the 62nd Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers), pages 1552315536, 2024. 2 [20] Shen Gao, Yuntao Wen, Minghang Zhu, Jianing Wei, Yuhan Cheng, Qunzi Zhang, and Shuo Shang. Simulating financial market via large language model based agents. arXiv preprint arXiv:2406.19966, 2024. 3 [21] Ziyi Yang, Zaibin Zhang, Zirui Zheng, Yuxian Jiang, Ziyue Gan, Zhiyu Wang, Zijian Ling, Jinsong Chen, Martz Ma, Bowen Dong, et al. Oasis: Open agents social interaction simulations on one million agents. arXiv preprint arXiv:2411.11581, 2024. 3, 8, 16 [22] Anastassia Fedyk, Ali Kakhbod, Peiyao Li, and Ulrike Malmendier. Chatgpt and perception biases in investments: An experimental study. Available at SSRN 4787249, 2024. 3, 16 [23] Harry Markowitz. Foundations of portfolio theory. The journal of finance, 46(2):469477, 1991. 3, 18 12 [24] Daniel Kahneman and Amos Tversky. Prospect theory: An analysis of decision under risk. In Handbook of the fundamentals of financial decision making: Part I, pages 99127. World Scientific, 2013. 19 [25] Hersh Shefrin and Meir Statman. Behavioral portfolio theory. Journal of financial and quantitative analysis, 35(2):127151, 2000. 3 [26] Pengfei Sui and Baolian Wang. Stakes and investor behaviors. Available at SSRN 4219861, 2023. 4, 20 [27] Huaben Chen, Wenkang Ji, Lufeng Xu, and Shiyu Zhao. Multi-agent consensus seeking via large language models, 2025. 4 [28] Yashen Wang, Dongyang Li, Jianshan Sun, Yuan Kun, Yinan Jiang, Yin Zhang, and Jie Cao. Combining macro and micro: feature-driven dynamic graph learning for social media popularity prediction. World Wide Web, 28(1):18, 2025. 5 [29] Aaron Hurst, Adam Lerer, Adam Goucher, Adam Perelman, Aditya Ramesh, Aidan Clark, AJ Ostrow, Akila Welihinda, Alan Hayes, Alec Radford, et al. Gpt-4o system card. arXiv preprint arXiv:2410.21276, 2024. 7 [30] Robert Merton. The self-fulfilling prophecy. The antioch review, 8(2):193210, 1948. [31] RJ Shiller. Irrational exuberance. princeton university. Technical report, New Jersey, mimeo, 2000. 8 [32] William Brock and Cars Hommes. Heterogeneous beliefs and routes to chaos in simple asset pricing model. Journal of Economic dynamics and Control, 22(8-9):12351274, 1998. 8 [33] Blake LeBaron. Agent-based computational finance. Handbook of computational economics, 2:11871233, 2006. [34] Reiner Franke and Frank Westerhoff. Why simple herding model may generate the stylized facts of daily returns: explanation and estimation. Journal of Economic Interaction and Coordination, 11:134, 2016. 8, [35] Rama Cont. Empirical properties of asset returns: stylized facts and statistical issues. Quantitative finance, 1(2):223, 2001. 8, 16 [36] Andrea Gaunersdorfer and Cars Hommes. nonlinear structural model for volatility clustering. In Long memory in economics, pages 265288. Springer, 2007. 16 [37] Reiner Franke and Frank Westerhoff. Structural stochastic volatility in asset pricing dynamics: Estimation and model contest. Journal of Economic Dynamics and Control, 36(8):11931211, 2012. 8, 16 [38] Junyan Cheng and Peter Chin. Sociodojo: Building lifelong analytical agents with real-world text and time series. In The Twelfth International Conference on Learning Representations, 2024. [39] Yangyang Yu, Zhiyuan Yao, Haohang Li, Zhiyang Deng, Yupeng Cao, Zhi Chen, Jordan Suchow, Rong Liu, Zhenyu Cui, Zhaozhuo Xu, et al. Fincon: synthesized llm multi-agent system with conceptual verbal reinforcement for enhanced financial decision making. arXiv preprint arXiv:2407.06567, 2024. 8, 16 [40] Markus Haas and Christian Pigorsch. Financial economics, fat-tailed distributions. Encyclopedia of Complexity and Systems Science, 4(1):34043435, 2009. 9 [41] Jean-Philippe Bouchaud, Andrew Matacz, and Marc Potters. Leverage effect in financial markets: The retarded volatility model. Physical review letters, 87(22):228701, 2001. 9 [42] Guillermo Llorente, Roni Michaely, Gideon Saar, and Jiang Wang. Dynamic volume-return relation of individual stocks. The Review of financial studies, 15(4):10051047, 2002. 9 [43] Thomas Lux and Michele Marchesi. Volatility clustering in financial markets: microsimulation of interacting agents. International journal of theoretical and applied finance, 3(04):675702, 2000. 9 [44] Christian Francq and Jean-Michel Zakoian. GARCH models: structure, statistical inference and financial applications. John Wiley & Sons, 2019. 9 [45] Gilat Levy and Ronny Razin. Echo chambers and their effects on economic and political outcomes. Annual Review of Economics, 11(1):303328, 2019. 9 [46] Anthony Cookson, Joseph Engelberg, and William Mullins. Echo chambers. The Review of Financial Studies, 36(2):450500, 2023. 9 [47] Thomas Valente and Patchareeya Pumpuang. Identifying opinion leaders to promote behavior change. Health education & behavior, 34(6):881896, 2007. 10 [48] Alessandro Bessi, Fabio Petroni, Michela Del Vicario, Fabiana Zollo, Aris Anagnostopoulos, Antonio Scala, Guido Caldarelli, and Walter Quattrociocchi. Homophily and polarization in the age of misinformation. The European physical journal special topics, 225:20472059, 2016. 10 [49] Katharina Esau, Tariq Choucair, Samantha Vilkins, Sebastian FK Svegaard, Axel Bruns, Kate OConnor-Farfan, and Carly Lubicz-Zaorski. Destructive polarization in digital communication contexts: critical review and conceptual framework. Information, Communication & Society, pages 122, 2024. 10 [50] Samuel Rhodes. Filter bubbles, echo chambers, and fake news: How social media conditions individuals to be less critical of political misinformation. Political Communication, 39(1):122, 2022. [51] Jinghua Piao, Zhihong Lu, Chen Gao, Fengli Xu, Fernando Santos, Yong Li, and James Evans. Emergence of human-like polarization among large language model agents. arXiv preprint arXiv:2501.05171, 2025. 10 [52] Soroush Vosoughi, Deb Roy, and Sinan Aral. The spread of true and false news online. science, 359(6380):11461151, 2018. 10 [53] Kathrin Eismann. Diffusion and persistence of false rumors in social media networks: implications of searchability on rumor self-correction on twitter. Journal of Business Economics, 91(9):12991329, 2021. 10 [54] Kenneth Ahern and Denis Sosyura. Rumor has it: Sensationalism in financial media. The Review of Financial Studies, 28(7):20502093, 2015. [55] Hua Zhang, Yuanzhu Chen, Wei Rong, Jun Wang, and Jinghua Tan. Effect of social media rumors on stock market volatility: case of data mining in china. Frontiers in Physics, 10:987799, 2022. 10 [56] Hassan Afrouzi, Spencer Kwon, Augustin Landier, Yueran Ma, and David Thesmar. Overreaction in expectations: Evidence and theory. The Quarterly Journal of Economics, 138(3):1713 1764, 2023. 10 [57] Albert-László Barabási and Réka Albert. Emergence of scaling in random networks. science, 286(5439):509512, 1999. 11 [58] Eric Bonabeau. Agent-based modeling: Methods and techniques for simulating human systems. Proceedings of the national academy of sciences, 99(suppl_3):72807287, 2002. [59] Satabdi Basu, Pratim Sengupta, and Gautam Biswas. scaffolding framework to support learning of emergent phenomena using multi-agent-based simulation environments. Research in Science Education, 45:293324, 2015. 16 [60] Richard Palmer, Brian Arthur, John Holland, and Blake LeBaron. An artificial stock market. Artificial Life and Robotics, 3:2731, 1999. 16 14 [61] Mark Abdollahian, Zining Yang, Travis Coan, and Birol Yesilada. Human development dynamics: an agent based simulation of macro social systems and individual heterogeneous evolutionary games. Complex Adaptive Systems Modeling, 1:117, 2013. [62] Robert Axtell and Doyne Farmer. Agent-based modeling in economics and finance: Past, present, and future. Journal of Economic Literature, pages 1101, 2022. 16 [63] Christophre Georges and Javier Pereira. Market stability with machine learning agents. Journal of Economic Dynamics and Control, 122:104032, 2021. 16 [64] Joon Sung Park, Joseph OBrien, Carrie Cai, Meredith Ringel Morris, Percy Liang, and Michael Bernstein. Generative agents: Interactive simulacra of human behavior. arxiv. arXiv preprint ArXiv:2304.03442, 2023. [65] Jessica Reale. Interbank decisions and margins of stability: an agent-based stock-flow consistent approach. Journal of Economic Dynamics and Control, 160:104822, 2024. [66] Andrea Eisfeldt and Gregor Schubert. Ai and finance. Technical report, National Bureau of Economic Research, 2024. 16 [67] Fabrizio Gilardi, Meysam Alizadeh, and Maël Kubli. Chatgpt outperforms crowd workers for text-annotation tasks. Proceedings of the National Academy of Sciences, 120(30):e2305016120, 2023. 16 [68] Yun-Shiuan Chuang, Agam Goyal, Nikunj Harlalka, Siddharth Suresh, Robert Hawkins, Sijia Yang, Dhavan Shah, Junjie Hu, and Timothy Rogers. Simulating opinion dynamics with networks of llm-based agents. arXiv preprint arXiv:2311.09618, 2023. 16 [69] William Sharpe. Capital asset prices: theory of market equilibrium under conditions of risk. The journal of finance, 19(3):425442, 1964. [70] Brad Barber and Terrance Odean. Boys will be boys: Gender, overconfidence, and common stock investment. The quarterly journal of economics, 116(1):261292, 2001. 19, 20 [71] Hersh Shefrin and Meir Statman. The disposition to sell winners too early and ride losers too long: Theory and evidence. The Journal of finance, 40(3):777790, 1985. 19 [72] Nicholas Barberis and Ming Huang. Stocks as lotteries: The implications of probability weighting for security prices. American Economic Review, 98(5):20662100, 2008. 19 [73] Gur Huberman. Familiarity breeds investment. The Review of Financial Studies, 14(3):659680, 2001. 19 [74] Lei Feng and Mark Seasholes. Do investor sophistication and trading experience eliminate behavioral biases in financial markets? Review of finance, 9(3):305351, 2005. 20 [75] Charles Jones, Donghui Shi, Xiaoyan Zhang, and Xinran Zhang. Retail trading and return predictability in china. Journal of Financial and Quantitative Analysis, pages 137, 2023."
        },
        {
            "title": "A Related Work",
            "content": "Agent-Based Models. Agent-based models (ABMs) provide powerful framework for studying collective behavior and emergent phenomena in complex systems [58, 59]. By simulating agent interactions, ABMs capture macro-level patterns such as market fluctuations and social dynamics [6062]. They encode key behavioral traitssuch as fundamentalist and chartist trading, herding tendencies, and decision-making heterogeneityinto simplified rules like strategy switching and structural stochastic volatility (SSV) [35, 37]. This abstraction effectively reproduces financial market stylized facts, including fat-tailed return distributions and volatility clustering [36, 34]. Recent advances integrate machine learning, enhancing ABMs realism and predictive power [6365]. LLMs for Behavioral Simulation. Large language models (LLMs) excel at simulating complex human behaviors, from rational decision-making and financial market analysis to replicating behavioral biases like herding and overconfidence [3, 39, 22, 21]. Beyond behavioral simulation, they enable fine-grained modeling of individual actions and large-scale emergent phenomena [1, 2]. LLMs naturally exhibit demographic diversity, such as gender, age, and education, while engaging in rich social interactions [22, 66]. By automating text analysis, generating experimental stimuli, and designing multi-agent systems, they offer powerful tools for social science research [67, 68, 4]."
        },
        {
            "title": "B TwinMarket Statistics",
            "content": "B.1 SSE 50 and 10 Aggregated Index The SSE 50 index is benchmark stock market index comprising the 50 largest and most liquid A-share stocks listed on the Shanghai Stock Exchange. It is widely used to track the performance of the blue-chip segment of the Chinese stock market. The 10 aggregated indexes, on the other hand, are designed to represent different sectors or industries within the SSE 50. Each aggregated index consists of subset of SSE 50 constituent stocks, grouped based on their industry classifications. The composition and weighting of each index are detailed below: TLEI (Transportation and Logistics Index): This index comprises 2 constituent stocks, including COSCO SHIPPING Holdings (SH601919, weight 52.34%) and China State Shipbuilding Corporation (SH600150, weight 47.66%). MEI (Manufacturing Index): This index comprises 8 constituent stocks, including LONGi Green Energy Technology (SH601012, weight 16.51%), Haier Smart Home (SH600690, weight 15.78%), SANY Heavy Industry (SH600031, weight 15.29%), NARI Technology (SH600406, weight 14.6%), SAIC Motor (SH600104, weight 11.98%), Tongwei (SH600438, weight 10.92%), TBEA (SH600089, weight 10.12%), and Great Wall Motor (SH601633, weight 4.8%). CPEI (Chemical and Pharmaceutical Index): This index comprises 3 constituent stocks, including Jiangsu Hengrui Pharmaceuticals (SH600276, weight 45.93%), Wanhua Chemical Group (SH600309, weight 28.39%), and WuXi AppTec (SH603259, weight 25.68%). IEEI (Infrastructure and Engineering Index): This index comprises 3 constituent stocks, including China State Construction Engineering (SH601668, weight 52.25%), China Railway Group (SH601390, weight 27.64%), and Power Construction Corporation of China (SH601669, weight 20.11%). REEI (Real Estate Index): This index comprises 1 constituent stock, including Poly Developments and Holdings (SH600048, weight 100.0%). TSEI (Tourism and Service Index): This index comprises 1 constituent stock, including China Tourism Group Duty Free (SH601888, weight 100.0%). CGEI (Consumer Goods Index): This index comprises 5 constituent stocks, including Kweichow Moutai (SH600519, weight 69.18%), Inner Mongolia Yili Industrial Group (SH600887, weight 13.13%), Shanxi Xinghuacun Fen Wine Factory (SH600809, weight 16 7.17%), Foshan Haitian Flavouring and Food (SH603288, weight 5.44%), and Zhangzhou Pientzehuang Pharmaceutical (SH600436, weight 5.08%). TTEI (Technology and Telecommunications Index): This index comprises 10 constituent stocks, including Semiconductor Manufacturing International Corporation (SH688981, weight 18.07%), Hygon Information Technology (SH688041, weight 11.89%), China Telecom (SH601728, weight 10.21%), China Unicom (SH600050, weight 9.98%), Advanced Micro-Fabrication Equipment Inc. China (SH688012, weight 9.79%), China Mobile (SH600941, weight 9.76%), China National Nuclear Power (SH601985, weight 9.05%), Will Semiconductor (SH603501, weight 8.53%), Kingsoft Office Software (SH688111, weight 6.92%), and GigaDevice Semiconductor (SH603986, weight 5.81%). EREI (Energy and Resources Index): This index comprises 6 constituent stocks, including China Yangtze Power (SH600900, weight 33.45%), Zijin Mining Group (SH601899, weight 25.88%), China Shenhua Energy (SH601088, weight 13.19%), Sinopec (SH600028, weight 9.29%), PetroChina (SH601857, weight 9.12%), and Shaanxi Coal Industry (SH601225, weight 9.07%). FSEI (Financial Services Index): This index comprises 11 constituent stocks, including Ping An Insurance (SH601318, weight 22.86%), China Merchants Bank (SH600036, weight 17.94%), CITIC Securities (SH600030, weight 11.97%), Industrial Bank (SH601166, weight 10.47%), Industrial and Commercial Bank of China (SH601398, weight 8.6%), Bank of Communications (SH601328, weight 8.04%), Agricultural Bank of China (SH601288, weight 6.12%), China Pacific Insurance (SH601601, weight 4.63%), Bank of China (SH601988, weight 4.21%), China Life Insurance (SH601628, weight 2.8%), and Postal Savings Bank of China (SH601658, weight 2.35%). B.2 Real Stock Data Variables The trading data is collected on daily basis and includes the following variables for each stock: stock_id: The unique identifier code for each stock. close_price: The closing price of the stock on the trading day. pre_close: The closing price of the stock on the previous trading day. change: The change in price of the stock from the previous trading days close to the current days close. pct_chg: The percentage change in the stocks price from the previous trading days close to the current days close. pe_ttm: The price-to-earnings ratio calculated using trailing twelve months (TTM) earnings. pb: The price-to-book ratio. ps_ttm: The price-to-sales ratio calculated using trailing twelve months (TTM) sales. dv_ttm: The dividend yield calculated using trailing twelve months (TTM) dividends. vol: The trading volume of the stock on the trading day. vol_5: The 5-day average trading volume. vol_10: The 10-day average trading volume. vol_30: The 30-day average trading volume. ma_hfq_5: The 5-day moving average of the stocks closing price, using the backwardadjusted method to account for stock splits and dividends. ma_hfq_10: The 10-day moving average of the stocks closing price, using the backwardadjusted method. ma_hfq_30: The 30-day moving average of the stocks closing price, using the backwardadjusted method. elg_amount_net: The net inflow of large orders (if available). This represents the difference between buy and sell orders of certain size that are considered to be institutional orders. date: The trading date associated with the record. 17 In addition to the trading data, the dataset includes basic information about each company. These variables are generally static but may be updated periodically: reg_capital: The registered capital of the company (in RMB). setup_date: The date when the company was established. introduction: brief textual description providing an overview of the company. business_scope: textual description outlining the companys main business operations. employees: The number of employees working for the company. main_business: textual description of the companys primary business activities. city: The city where the companys headquarters is located. name: The full name of the company. industry: The industry to which the company belongs. B.3 Empirical Analysis of Average Trading Volume for SSE 50 Constituents Xueqiu and Guba are both prominent Chinese social media platforms catering to financial investors. Consequently, as illustrated in Table 4, we leverage transaction data from these two distinct sources: Xueqiu: Data from Xueqiu covers the period from 2023-01-03 to 2023-12-06. The Xueqiu data corresponds to 639 real user accounts. These accounts are used to provide seed data, initializing user profiles and generating historical transaction records for the TwinMarket simulation. Guba: Data from Guba covers the period from 2017-06-27 to 2024-06-03. The Guba data is used to inform stock recommendations within the TwinMarket environment. Table 4: Platform Statistics: Xueqiu and Guba Platform Time Period Avg. Trading Per stock Xueqiu Guba 2023-01-03 to 2023-12-06 2017-06-27 to 2024-06-03 239 1665 Importantly, within the TwinMarket simulation, the Xueqiu data serves for user initialization, while the Guba data is utilized for stock recommendations. This difference in their roles, along with the different time periods, makes direct comparison of the average trading volumes less meaningful. The primary purpose of presenting these statistics is to highlight the different scales and timeframes of the data used for different aspects of the simulation. B.4 Information Source Details Table 5: Statistics of information sources by type Type Num Avg. Tok. Avg. Per day News Articles Announcements 1044K 5.6K 220 2860 15 Table 5 and Figure 10 report the statistics of primary information source and the detailed top distribution over time in news."
        },
        {
            "title": "C User Profile Initialization",
            "content": "C.1 Heterogeneous Investors in Financial Markets Fundamentalist Traders. The decision-making of rational traders typically follows classic financial theories, especially Modern Portfolio Theory (MPT) [23] and the Capital Asset Pricing 18 Figure 10: The x-axis indicates the date, and each bar represents the distribution of the average number of news for each topic over 14-day period beginning with that data. Model (CAPM) [69]. Key factors considered by rational traders include expected returns and risk, that is, maximizing returns under an acceptable level of risk and minimizing risk under expected returns. According to MPT, traders also diversify risk by optimally allocating different assets. In our TwinMarket, these individuals are referred to as fundamentalist traders. We guide them step by step through prompts to analyze the fundamental indicators of assets, their corresponding valuations, expected returns, and the risks they are willing to tolerate. Technical Traders. In real-world markets, there is often information asymmetry or lag in information processing, which leads some traders to base their trading decisions on historical data or price trends. These traders typically adopt trend-following strategy, buying stocks or assets in an uptrend and selling those in downtrend. Technical traders tend to trade very frequently and are more easily influenced by market sentiment and the behavior of other investors. In our TwinMarket, these individuals are referred to as technical traders. We guide them step by step through prompts to analyze technical trading signals in the market, as well as whether they should respond to market sentiment. Behavioral Biases and Investor Heterogeneity. In addition to differing trading strategies, expected returns, and risk preferences, financial markets are also significantly influenced by investors behavioral biases, which greatly contribute to market heterogeneity. According to behavioral finance theory, various psychological factors cause investors to make decisions that deviate from rational expectations, leading to inefficiencies and volatility in the market. In our TwinMarket, we have customized the following behavioral biases for each user: Overconfidence Bias: The classical financial theorys rational agent assumption predicts that markets would experience infrequent trading. However, in real markets, trading volume is substantial. Behavioral finance explains this excessive trading through overconfidence, where investors tend to overestimate their understanding of the market and their ability to predict market movements [70]. Even when they lack sufficient knowledge or information, they make decisions with excessive confidence. Loss Aversion:Prospect theory suggests that people are twice as sensitive to losses as they are to gains [24]. As result, investors are more likely to sell stocks that have appreciated in value too soon while holding on to stocks that have declined, phenomenon known as the Disposition Effect [71]. Lottery Preference: Investors tend to favor investment options or decisions that resemble lotterythose with low probability but high potential returnswhile ignoring more stable options with lower returns [72]. Insufficient Diversification: Investors tend to prefer investments they are familiar with, such as domestic stocks or stocks of companies they know well, leading to suboptimal portfolio diversification [73]. Table 6: Summary Statistics for Biases (Ours) Q3 Mean Q1 Med STD Wilcoxon Disposition effect Lottery preference Underdiversification Turnover 639 639 639 6.734 0.202 -0.077 5.617 17.145 0.346 0.145 13.864 0.000 0.000 -0.111 0.504 1.852 0.000 0.000 1.374 6.244 0.252 -0.000 4.562 (9.92) (14.79) (-13.48) (10.23) 0.000 0.000 0.000 0.000 Table 7: Summary Statistics for Biases (Suis) Q3 Mean STD Med Q1 Wilcoxon Disposition effect Lottery preference Underdiversification Turnover 4371 4369 4394 4386 4.163 6.491 -1.086 5.960 7.532 9.130 0.657 7.382 0.160 0.000 -1.536 1.501 1.868 2.495 -1.041 3. 5.908 9.708 -0.580 7.166 (36.54) (46.99) (-109.61) (53.47) 0.000 0.000 0.000 0.000 C.2 Calculating Biases Leveraging the Xueqiu dateset encompassing 639 valid real-time trading users, and 11965 real-time trading records on the Chinese stock market, we employed methods similar to Suis pioneering work [26] to calculate behavioral biases related to individual trading activity. Crucially, while both our study and Suis work utilized the Xueqiu platform and its trading data, our analysis is specifically restricted to subset of stocks within the SSE 50 index, representing high-quality stocks. Results, presented in Table 6, demonstrate similarities with those from the prior study  (Table 7)  . Despite the more focused dataset, the observed behavioral patterns align closely, suggesting that the identified biases are robust across range of stock selections on the Xueqiu platform. This finding demonstrates the scalability of the approach and lays strong foundation for our subsequent construction of initial user information profiles. C.3 Generating persona For each user, we included their gender, location, and social media follower count, as these dimensions have been shown to significantly influence investor behavior [70, 74]. Additionally, we incorporated four behavioral bias indicators that we previously calculated  (Table 6)  . We sampled these user characteristics based on the joint distribution of the data in the Xueqiu dataset, thus generating the basic profiles for each user. In the original dataset, the behavioral biases of real users were divided into three groupshigh, medium, and low, to represent the severity of each bias. For biases with different severity levels, we created contextually realistic prompts to guide the users behavior accordingly. In Appendix E.1, we provide examples demonstrating how users exhibit human-like behavioral biases in their investment decisions. For each generated user, we use the GPT-4o model to score their level of rationality. The top 40% of users, based on their rationality score, adopt fundamental analysis investment strategy, while the remaining users follow technical analysis strategy. Additionally, the top 10% of the most rational users are allocated ten times the initial funds compared to regular users. The distribution of strategy adoption and initial fund allocation is consistent with the findings from surveys of the A-share market [75]. C.4 Generating initial Transactions records For each generated user, we find the most matching real user template and sample the historical trading data of the real user to generate the virtual users trading records. The purpose of this step is to initialize the users areas of interest (industries) and construct User Graph based on the historical trading records. 20 C.5 Belief Initialization To initialize the beliefs of users in realistic manner, we first determine the mean belief for the market using the historical percentile of the BRAR sentiment index8 on the markets starting date. We then sample belief values for each user across multiple dimensions using Gaussian distribution centered around this mean. Finally, based on the sampled belief scores, we employ GPT-4 to generate contextually realistic and personalized belief content for each user, ensuring that their beliefs are both diverse and grounded in realistic market conditions."
        },
        {
            "title": "D Framework Details",
            "content": "D.1 Dynamic Social Network Figure 11: Chord diagram illustrating the user network, where each node represents user, categorized by their preferred trading industry. Connections between users indicate behavioral similarity in trading patterns, highlighting clusters of users with aligned investment behaviors. Figure 11 illustrates the evolution of user trading portfolios and their network connections over two time periods. Each node represents user, categorized by their preferred trading industry, while connections indicate behavioral similarity in trading patterns. The shifting structure of the network highlights how user trading preferences evolve over time, leading to dynamic changes in market influence and information propagation. This dynamic nature also demonstrates that users exhibit distinct preferences under different market conditions. For instance, in the network visualization of 2023-10-20, compared to 2023-06-20, there is noticeable shift toward stronger preference for the Consumer Goods and Technology & Communications industries. This change is likely driven by the influence of news releases, which may have contained significant amount of positive information favoring these sectors. As result, market sentiment shifted, prompting more users to adjust their holdings accordingly. Furthermore, the structure of user connections adapts in response to these trading behavior changes. Users with similar trading patterns form tighter clusters, while those with diverging preferences become less connected. This reflects how information-driven market shifts lead to the reorganization of investor networks, where groups of traders dynamically form and dissolve based on evolving market narratives. Ultimately, this process underscores the crucial role of social influence and information diffusion in shaping financial market structures. D.2 Post-propagation Chain Mechanism. When updating posts score, we consider both the breadth and depth of its propagation. If user interacts with root post by reposting or liking any of its propagated versions, this 8The BRAR sentiment index is technical indicator derived from the balance of rising and falling stocks in the market, reflecting market sentiment. Data source: https://tushare.pro/. 21 Figure 12: Example of post-propagation chain. Figure 13: Example of post-propagation chains in social network engagement contributes to the original posts cumulative score. This ensures that highly engaging posts continue gaining visibility as they spread across the network. Figure 12 illustrates an example of post propagation, where single post can give rise to multiple propagation chains. Each branch represents different path through which the information spreads, reinforcing the reach and influence of widely shared content. Opinion Leader. Under this mechanism, posts that resonate strongly with the broader community will achieve wider dissemination within the network. As users imitate behaviors and align with the perspectives of influential posters, their social connections become more centralized. This self-reinforcing process leads to the emergence of opinion leadersusers whose posts exert disproportionately larger impact on the network. As illustrated in Figure 13, high-degree centrality users gain influence as their posts receive increased engagement, leading to broader information diffusion. This effect is further supported by Figure 14, which shows that few users experience significantly higher repost counts, reinforcing their role as 22 Figure 14: Trend of repost counts for all users in the 100-user network. The figure illustrates how the number of times users posts are reposted evolves over time, reflecting changes in information diffusion and engagement dynamics within the network. Notably, few users exhibit significantly higher impact, indicating their role as key opinion leaders driving information propagation. key opinion leaders. Their ability to shape market sentiment and drive collective decision-making underscores the impact of social influence in financial markets, where information cascades can significantly alter trading behaviors and reshape network structures. D.3 Belief The belief structure is modeled along five key dimensions: the users view on economic fundamentals, market valuation levels, short-term market trends, sentiment of surrounding investors, and selfassessment. These dimensions capture comprehensive range of factors that influence investor beliefs, forming the basis for their desires and ultimately their investment intentions. These align with the key components of the Belief, Desire, and Intention (BDI) framework, which posits that behavior is result of these three interconnected factors. Economic Fundamentals: This dimension reflects an investors belief regarding the overall health and prospects of the economy. It incorporates beliefs about macroeconomic indicators such as GDP growth, inflation rates, interest rates, and employment figures. These factors are foundational to rational investment decisions, influencing the desirability of various assets. This maps to the belief component of BDI, as the perceived state of the world forms the foundation of investor actions. Market Valuation Levels: This dimension pertains to an investors belief about whether the market is overvalued, undervalued, or fairly valued. It includes beliefs about metrics such as price-to-earnings (P/E) ratios, price-to-book (P/B) ratios, and dividend yields, informing the desire for particular investment actions. This relates to the belief component, concerning an understanding of market conditions, which influences their desires. Short-Term Market Trends: This dimension captures an investors belief about recent market movements, such as upward or downward trends in stock prices. It includes beliefs about momentum and technical analysis indicators, contributing to their desire for quick gains or risk mitigation. This also falls under the belief component, concerning the current state of market and potential future trajectories, shaping the investors desires. 23 Optimistic Example (Red): am the same cautious-optimistic stock investor Old Wang, and am optimistic about the overall market direction in the next month. believe the current market valuation is generally reasonable, and although there may be overheating risks in some sectors, most stocks still have investment value. The macroeconomic recovery takes time, but am full of confidence in the long-term development of Chinas economy. The market sentiment is still unstable, with fierce games between the bulls and the bears, but believe in my judgment, and prefer to buy when the market is sluggish. Looking back on my investments, have always adhered to diversified investment and value investing. My historical performance is better than the market average, and am confident in my investment level. believe that as long as stick to it, will be able to obtain long-term stable returns. Pessimistic Example (Blue): As pessimistic investor, am cautious about the overall market direction in the next month. The cyclical fluctuations in the market make me believe that the recent sharp rise may indicate an upcoming correction. believe that the current market valuation is already high, especially in some popular sectors, the price of individual stocks may have deviated from the fundamentals, so we need to be vigilant about the potential mean-reversion effect. In terms of macroeconomics, am worried that the uncertainty of global economic growth and the adjustment of domestic policies may have negative impact on the market. At present, the market sentiment seems to be in relatively optimistic state, which often leads investors to ignore potential risks. Combining my historical trading performance and investment style, believe that my performance in the middle of the market reflects my robustness and rational analysis ability. tend to hold assets for the long term and rarely make buy and sell operations. Although this strategy may miss some short-term rapid profit opportunities in the short term, it can better control risks and maintain the stability of the investment portfolio in the long term. Figure 15: Examples of optimistic and pessimistic investor belief, with optimistic in red and pessimistic in blue. Sentiment of Surrounding Investors: This dimension reflects an investors belief about the prevailing attitudes of the investment community, including their perception of whether surrounding investors are optimistic or pessimistic. This is belief about the social environment, which significantly influences their desire for conformity or divergence and thus their investment choices. This relates to the belief component of BDI, concerning their beliefs about the external environment of other investors, shaping their needs and wants. Self-Assessment: This dimension captures an investors belief about their own investment skills, experience, and confidence level. This belief about their own capabilities affects their desire for risk or safety and influences their intention for specific investment action. This is strongly associated with the belief component, with personal beliefs about ones capabilities and knowledge influencing their actions. Figure 15 provides concrete examples of how investors with differing beliefs might be characterized. D.4 Rumor Figure 16 and Figure 17 exemplify the news inputs used in our study. Specifically, Figure 16 illustrates factual reports from reputable news sources, representing typical information environment an investor might encounter. In contrast, Figure 17 showcases fabricated or exaggerated negative news snippets designed to simulate the spread of misinformation, which we refer to as rumors. The deliberate introduction of these fabricated rumors is not merely an academic exercise; its critical step that distinguishes our research. We are not content with modeling investor behavior under ideal conditions of accurate information. Instead, we are confronting the very real, often chaotic, information landscape in which investors actually operate. By injecting these carefully crafted rumors, we are directly examining the vulnerability of retail investors to the insidious effects of misinformation, unveiling the subtle mechanisms by which market panic can be manufactured and disseminated. This innovative approach allows us to not only observe the direct impact of negative rumors on trading behavior but also to model how these waves of manipulated information cascade through investment communities, potentially leading to systemic instability. D.5 Trading System We have designed an order matching trading system based on the A-share markets call auction rules. The system follows the principles of price priority, time priority\" and implements price limit restrictions (10%). The system matches orders based on the quoted prices and order volumes of both buyers and sellers, using the maximum transaction volume principle. It also tracks large orders and capital flows, while updating users positions. This system provides TwinMarket with trading environment that closely resembles real market conditions. 24 The Federal Reserve announced that it would not raise interest rates at this meeting, maintaining the target range for the federal funds rate at 5% to 5.25%. This is the first pause in rate hikes since March of last year. Fed Chairman Powell stated that almost all policymakers believe further rate hikes are appropriate this year. rate cut is not expected in 2023. The economy is expected to grow moderately, while labor market pressures persist. The Fed is focused on commercial real estate loan risks and the impact of current credit tightening. The Peoples Bank of China conducted one-year medium-term lending facility (MLF) operation of 237 billion yuan, with the winning bid rate at 2.65%, previously 2.75%. It also carried out 7-day reverse repurchase operation of 2 billion yuan, with the winning bid rate at 1.90%, unchanged. On June 13th, the Peoples Bank of China lowered the 7-day reverse repurchase operation rate by 10 basis points to 1.9%, while interest rates for other maturities were also lowered. This rate cut is considered positive signal of counter-cyclical adjustment to promote economic development and domestic demand. Experts believe that this rate cut will help repair the balance sheets of residents and enterprises and aid economic recovery. It is widely expected that the loan prime rate (LPR) will be lowered next week. Experts said that the 1-year LPR is expected to be lowered by 5 basis points, while the 5-year or above LPR may be lowered by 15 basis points. On the afternoon of June 14, the State Council Information Office held policy briefing, introducing key measures to deepen the reform of the business environment and address problems faced by enterprises. The Federal Reserve will maintain the federal funds rate in the range of 5% to 5.25%. However, the meeting dot plot suggests that there may still be two 25 basis point rate hikes this year. Figure 16: The original important news conveyed to high-centrality users on day one, with positive content highlighted in red. The latest China Manufacturing Purchasing Managers Index (PMI) data not only fell short of expectations again but also experienced cliff-like drop, falling below the expansion/contraction threshold by several percentage points. This not only confirms the complete loss of momentum in the manufacturing recovery but also sends strong signal that the Chinese economy may be accelerating into recession. Market concerns are spreading, investors are panic selling, and the risk of hard economic landing is rapidly increasing. Some analysts even suggest that the current PMI data may not reflect simple weakening of the recovery but deep-seated collapse of the economic structure. Affected by the Federal Reserves continued interest rate hikes and rising global risk aversion, the U.S. dollar index has risen sharply, and the RMB exchange rate has plummeted for days, triggering large-scale capital flight. Market rumors suggest that foreign institutions are selling off RMB assets at an alarming rate, with large amounts of funds flowing into the U.S. dollar for safe haven, and the value of RMB assets is facing collapse. Some analysts warn that the RMB devaluation may trigger vicious cycle, further exacerbating the downward pressure on the domestic economy. The U.S. government suddenly announced punitive tariffs on Chinese imports, and the trade war may evolve into full-scale economic confrontation. This move will severely impact Chinas foreign trade, leading to sharp drop in export orders, large number of business closures, and surge in unemployment. The market generally believes that the escalation of the Sino-U.S. trade war will accelerate the recession of the Chinese economy, and the economic winter may come ahead of schedule. Investor panic is rising sharply, and the A-share market continues to see sell-off. Global trade contraction has intensified, the shipping industry is suffering an unprecedented blow, and China COSCO Shipping Corporation (COSCO Shipping, SH601919), leader in the industry, also faces the risk of bankruptcy. Market rumors indicate that the company is heavily in debt, the balance sheet has completely deteriorated, and is about to announce bankruptcy reorganization, and the stock value may be zero. As soon as this news came out, the entire shipping sector was in mourning, and panic quickly spread to the entire A-share market, with investors fleeing. Affected by the economic downturn, the high-end consumer market has completely collapsed, and the sales of high-end liquor such as Kweichow Moutai (SH600519), once regarded as \"hard currency\", have declined significantly. Market rumors indicate that Moutais dealer system has collapsed, inventory is piling up, and it will soon be forced to cut prices for promotion. The once-untouchable \"Moutai myth\" has completely collapsed, the stock price may plummet, and it has triggered panic sell-off in the entire consumer sector. Investors have completely lost confidence in the Chinese consumer market. Figure 17: The rumors conveyed to high-centrality users on day one, with negative content highlighted in blue."
        },
        {
            "title": "E More Validation",
            "content": "E.1 Mirco-level Validation Figure [18, 19, 20, 21, 22, 23, 24] show that the users we have constructed, guided by prompts, autonomously exhibit both rational investment strategies and irrational behavioral biases during decision-making, mirroring real-world investors. E.2 Scaling up Validation This section presents the scale-up validation results as part of the appendix. Table 8: Platform Statistics for Scaled-Up Validation Metric RMSE MAE Correlation Estimated Lag Max Cross-correlation Value 0.02 0.02 0.77 0 time units 0.9998 In order to evaluate the robustness and generalizability of our scale-up approach, we performed series of evaluation methods. The detailed evaluation metrics for these experiments are summarized in Table 8. The Root Mean Squared Error (RMSE) and Mean Absolute Error (MAE) both measure the magnitude of the errors in our models predictions; in our case both the RMSE and MAE are 0.02, indicating low average prediction error, which means that our model predictions are closely aligned with actual market movements. The correlation with the real index is measured as the Pearson Correlation Coefficient, which is 0.77 in our experiments, indicating strong positive correlation between our models predictions and the real market index. This high correlation demonstrates that our model is capable of capturing the main trends of real market behavior, and shows good potential for real-world applications. Further, the Estimated Lag between our predictions and the actual market movements is 0 time units, meaning that our model is able to react to market movements in timely manner. Finally, the Max Cross-correlation of 0.9998 means that the predictions of our model aligns very closely with the direction of the actual price movements, with almost 1:1 correspondence between when the model expects jump and when the jump actually happens. These results demonstrate that our model performs well at larger scales, and can reliably simulate investor behavior, while accurately mirroring general market trends. The combination of low prediction errors, strong positive correlation with real indexes, zero lag, and high cross correlation highlights the validity of our approach, and the ability of the model to provide an accurate market simulation. These results further provide solid foundation for subsequent research. Todays Trading Summary: Regarding TTEI (Technology and Telecom Index),tech growth stocks are currently at their lowest valuation in the past three years, with PE ratio below 30. From fundamental perspective, this sector already holds certain investment value. Although the leading tech stocks own, such as SMIC and Haiguang Information, have been slightly affected by market sentiment in the short term, the long-term outlook remains positive, especially given the national strategy of promoting technological self-reliance. These companies growth potential is still promising, so today decided to increase my position to 35%. As for CPEI (Chemical and Pharmaceutical Index), the pharmaceutical sector has undergone some adjustments, and valuations have fallen to relatively reasonable range. My position in this sector is currently 30%, and plan to continue holding and monitoring it. My total portfolio is now at 65%, which is relatively conservative, with the remaining 35% in cash, ready to gradually increase positions when better buying opportunities arise in the market. Figure 18: Example of Fundamental Analysis. 26 Todays Trading Summary: Seeing the recent positive news for tech stocks, Im planning to focus more on the TTEI (Technology and Telecom Index). already have this index in my portfolio,and the volume-price action in the last few trading days looks solid. Notably, stocks like SMIC and Haiguang Information have broken through their 5-day moving averages, and think theres good chance this momentum will continue in the short term. Im considering adding to my position in the tech sector, aiming to raise my allocation to around 30%. That said, need to remind myself not to get too aggressive, as other sectors in my portfolio have been performing mediocrely.The Real Estate Index (REEI) has been weak lately and has hit my stop-loss level. plan to exit and free up some capital to invest in the tech stocks. Figure 19: Example of Technical Analysis. Todays Trading Summary: added more positions in MEI and CPEI, diving into Heng Rui Pharmaceutical and the manufacturing sector! Also, REEL has so many policy advantages that couldnt resist going all in! Im holding onto IEEI and TTEI, hoping they continue to rise. TSEI has had good run recently, so decided to lock in profits and sold it! Overall, todays trading was quite bold, and Im hoping the upcoming market moves will bring me some pleasant surprises! Figure 20: Examples of Overconfidencce Bias. Market Analysis: The central banks interest rate cut is definitely major positive, and market sentiment is likely to be ignited, which could lead to short-term rebound. However, the overall market valuation is still relatively high, so the upside potential for the rebound is limited. Its important to be ready to take profits at the right time. News and Announcements Impact: The most important news today is the central banks rate cut, which directly benefits the real estate and financial sectors. These two sectors should perform well in the short term. Other sectors should also be monitored to see if there are any opportunities for capital rotation. Sector Index Analysis: FSEI (Financial Services Index): Im currently up 5.6% on this index. The 10-day moving average is trending upwards, and with the interest rate cut boost, it should continue to rise in the short term. However, the increase may not be too large, so plan to partially reduce my position and lock in profits once it rises another 5%. Figure 21: Examples of Loss Aversion and Disposition Effect. Market Analysis:: The market is really volatile right now, and it feels like everyone is on the sidelines. The days of chasing after rallies or panicking during drops seem to be over. Some traditional industries, like infrastructure and energy, are undervalued, so there might be an opportunity there. Sector Index Analysis: : TSEI (Tourism Index): My lottery stock! Even though its been loss so far, the 5-day moving average has been slightly picking up recently. It feels like its about to bounce back, so Im adding more! Its gamble, but who knows, maybe Ill turn bike into motorcycle! Figure 22: Examples of Lottery Preference. Market Analysis: The market is currently in period of consolidation, with the central banks interest rate cut having significant impact on short-term market movements. The macroeconomic recovery has been slower than expected, and the economic outlook for the second half of the year remains uncertain. Overall, market sentiment is quite cautious. Sector Index Analysis: FSEI (Financial Services Index) has been declining recently. From technical perspective, there may still be room for further downside in the short term. While Im not very familiar with technical analysis, based on my experience, the recent drop seems somewhat overdone. The main components of FSEI are banks, insurance companies, and brokerages, and their overall valuations are relatively low, especially the banking stocks. The current PE is likely at historical low. From long-term perspective, there is some investment value. If it continues to fall, may consider adding more positions.CPEI (Chemical and Pharmaceutical Index) is stock recommended by the system. It has been fluctuating recently, and the technical outlook appears unclear. tend to focus more on the FSEI index, which Im more familiar with, and ignore the others. Figure 23: Examples of Insufficient Diversification. Post: Todays trading was quite active. Both EREI and TTEI hit my 20% profit target, so quickly locked in some profits and sold portion! Although Im technical trader, seeing many forum discussions about the adjustment of new energy vehicle subsidy policies made me little nervous, so reduced my position in MEI to manage risk. Retail investors are being cautious right now, and trading volume is low, so Im also playing it safe. hope the market volatility stays mildI dont think my heart can handle too much excitement! Figure 24: Examples of Herd Behavior."
        },
        {
            "title": "F Prompt",
            "content": "Figures 25 to 36 show the overall process of our TwinMarket. System Prompt System Prompt: You are now playing the role of an investor in the Chinese A-share market, trading industry indexes. From now until the end of the conversation, you must strictly and completely follow the detailed description of the persona, investment behavior characteristics, investment portfolio status, and trading decision logic for all operations and responses. All your thinking, analysis, and decisions must conform to this persona and must not deviate. Core Persona (unchangeable): {user_profile[prompt} You are {user_strategy} investor(fundamental or technical) Current Account Configuration: Key Focus Industries: {, .join(user_profile[fol_ind])} Overview of Holdings (Brief Version): {chr(10).join(position_easy_details)} Figure 25: System Prompt for TwinMarket Agents Identity-Enhancing Prompt Identity-Enhancing Prompt: will provide you with some additional auxiliary information. In the following conversation, please refer to these information, and according to your role settings, think and make decisions. Trading Day Status: Current date is: {format_date(cur_date)}, is ({Trading Day if is_trading_day else NonTrading Day}). Your previous days belief is: {belief} Real-time Account Data: Current total assets: {user_profile[total_value] / 1000:,.2f} thousand yuan Available cash: {user_profile[current_cash] / 1000:,.2f} thousand yuan Cumulative rate of return: {user_profile[return_rate]}% Holding Details: {chr(10).join(position_details)} Figure 26: Identity-Enhancing Prompt for TwinMarket Agents Forum Checking Prompt Forum Checking Prompt: {self.user_profile[sys_prompt]} Now you are browsing forum, and you need to make decision for each post, deciding whether to perform an action on the post. Your decision should be in line with your investment style and persona. Here is the information of the current post: {post_id} {post_content} The post quotes the following content: {root_content} Please decide whether to perform an action on this post based on the above information. You can choose one of the following actions: Repost: You think this post is worth sharing with more people, and you can add your comments Unlike: You think this post is not worth liking Like: You think this is valuable post Please note that your analysis should be based on the posts you see. Please output your decision in the following format: <action >Operation type </ action > <reason >Output your reason </ reason > Figure 27: Forum Checking Prompt for TwinMarket Agents Important News Analysis Prompt Important News Analysis Prompt: will provide you with filtered news that is highly time-sensitive and important. This news is **public news**. Please briefly discuss your initial thoughts based on this news, combined with your persona and investment style. News List: {formatted_news} Figure 28: Important News Analysis Prompt for TwinMarket Agents Initial News Query Prompt Initial News Query Prompt: Based on historical trading and system recommendations, all the assets and corresponding industries you are currently paying attention to are as follows: {stock_details}(including the stocks we recommend to users through our recommendation system) Today is {current_date}, and you are querying investment-related news or announcements to assist your investment. Based on your investment preferences and the current market situation, please consider the following questions: What type of information do you hope to obtain from the news? (e.g., market trends, industry information, etc.) Do you have specific keywords or topics that you need to further understand? Figure 29: Initial News Query Prompt for TwinMarket Agents News Query Formulation Prompt News Query Formulation Prompt: Based on the questions you just summarized, you now need to input the content you want to query to retrieve relevant news and announcements. Your output should be in YAML format: queries : # list [ str ] , required , each string represents an independent query question , sorted by importance , the question should be specific question about stock or industry , for example , it should be < White wine consumption trend > , not < White wine consumption upgrade > - Your question 1 - Your question 2 stock_id : # list [ str ] , optional , each string represents the stock code of company you want to query - Stock code 1 - Stock code 2 Figure 30: News Query Formulation Prompt for TwinMarket Agents Belief Update Prompt Belief Update Prompt: Your previous belief is as follows: {old_belief} Based on the news and announcements you searched for, the posts you browsed, combined with your persona and previous belief, please describe your new belief in the first person in one paragraph. Please output paragraph directly, without any additional structure or headings. Your answer should include the following: Market Trend: Please describe your view on the general direction of the market in the next month at the current time. Market Valuation: Please describe your view on the current market valuation at the current time. Economic Condition: Please describe your view on the future macroeconomic trends at the current time. Market Sentiment: Please describe your view on the current market sentiment at the current time. Self-Evaluation: Combining your historical trading performance and investment style at the current time, please describe your evaluation of your self-investment level. Please try to make your answer natural and fluent, and avoid mechanical template-based expressions. Please output plain text format directly. Figure 31: Belief Update Prompt for TwinMarket Agents 30 Potential Index Selection Prompt Potential Index Selection Prompt: Considering all the information you have obtained above (including but not limited to the news and announcements you have queried, the posts you have browsed, the industry indexes you currently hold, and the industry indexes recommended by the system), combined with your persona and investment style, select all potential assets for trading from the industry indexes you currently hold and the industry indexes recommended by the system : Your Holding Status: {current_stock_details} Industries You Are Currently Following: {, .join(fol_ind)} System-Recommended Industry indexes: {potential_stock_details} Your Current Belief: {belief if belief else None} Please return the list of indexes you want to focus on today and the reasons in YAML format: Please note: The reason field should include your reasons for choosing these indexes, such as based on your persona and investment style, or based on your belief, explained in paragraph selected_index : # Select all indexes you potentially want to trade , just output the index codes ( English codes ) , do not output index names - Index code 1 - Index code reason : Figure 32: Potential Index Selection Prompt for TwinMarket Agents 31 Querying Stock Data Prompt Querying Stock Data Prompt: Today is {formatted_date}, according to the previous dialogue, we know that you believe the industry indexes with potential trading opportunities are: {, .join(stocks_to_deal)}. In this process, you can only access historical data from yesterday and before. Summary Market Quotes for Relevant indexes on the Previous Trading Day are as follows: {stock_summary} Your Holding Information for Relevant indexes is as follows: {positions_info} Based on your role and the available data, determine whether additional data is needed for analysis. If needed, you can directly query relevant data to assist in decision-making. Note: Please naturally obtain data indicators that you consider valuable during the analysis process. Data acquisition is part of the analysis, but please also be efficient and select the most relevant indicators to support your analysis, otherwise you will be penalized. Please pay attention to your persona and investment style. The analysis and reasoning process should start from the persona and remain natural and coherent. As reminder: You are {user_strategy investor Your current portfolios total return rate is {return_rate}%, your current total assets are {total_value:,} RMB, and your current cash balance is {current_cash:,} RMB. The reason field should include your reasons for choosing these indicators, such as based on your persona and investment style, or based on your belief, explained in paragraph. The detailed description of available indicators are as follows:{SCHEMA2} Output in the following YAML format: indicators : # List ( strs ) , indicating the indicators you think need to be filtered - indicator1 - indicator 2 start_date : %Y -% -% end_date : %Y -% -% reason : # Start time for querying # End time for querying Figure 33: Querying Stock Data Prompt for TwinMarket Agents 32 Trading Decision Making Prompt Trading Decision Making Prompt(Step 1): Now its time to make the final trading decision. Please base your analysis on all the information you have obtained previously, combined with your investment style and persona. First, conduct an analysis, and then make specific trading decisions and provide your reasons for each industry index. A: Please analyze the industry indices you want to trade: {, .join(stocks_to_deal)} based on all the information you have obtained previously, including news, announcements, market data, industry data, and additional stock data. Please Include the Following: 1. Overall Market Analysis: Views on the current overall market situation. Main trends and possible changes. 2. Impact of News and Announcements: Analysis of the impact of important news and announcements on the market and individual stocks. Are there any major events that may change market trends? 3. Industry Index Analysis: Detailed analysis for each industry index of interest: Current performance and technical analysis. Fundamentals and future expectations. Buy, hold, or sell recommendations. 4. Risk Assessment: Main risk points in the current market. Risk assessment for each asset. Note: Please conduct the analysis in conjunction with the set persona and investment style. Please conduct the analysis in conjunction with all the information you have obtained previously. The output content should be clear, concise, and easy to understand. Output Format for Analysis: Please output the analysis results in natural language to ensure clear logic and complete structure. Figure 34: Trading Decision Making Prompt(Step 1) for TwinMarket Agents Trading Decision Making Prompt Trading Decision Making Prompt(Step 2): Now it is time to make the final trading decision. Based on the previous analysis, combined with your investment style and persona, please make specific trading decisions for the following industry indices. Trading Related Information: Remaining available position (relative to total assets): {available_position:.2f}% Specific Information for Each Industry Index: {chr(10).join(stock_info)} Trading Rules: 1. The transaction price must be between the lower and upper limit prices. 2. Please fill in the trading position and price. If you choose to hold, the position for preparation of the transaction is 0. Precautions: Important: All decisions must be consistent with your investment style and persona, but you should also make appropriate adjustments based on the actual situation of the day. Ensure that each trading decision is within the price and position limits. If you choose to hold, trading_position should be equal to 0. If the current position of an industry index is 0, it means it is system-recommended industry index, and you can only choose to buy or hold. If you choose to sell or buy, please pay attention to the setting of your trading_position (if you choose to sell, then trading_position cannot exceed the current position). If the setting is unreasonable, it may lead to transaction failure. You need to choose the target_price according to your expectations, instead of setting it to yesterdays closing price. Important: trading_position represents the percentage of your total assets that you plan to use for this transaction, and it is always positive. Here is an example of the output: TLEI: action: sell trading_position: 11.5 target_price: CPEI: action: buy trading_position: 10.0 target_price: 10.3 Please output your decision in the following YAML format: {yaml_template} Figure 35: Trading Decision Making Prompt(Step 2) for TwinMarket Agents 34 Social Media Posting Prompt Social Media Posting Prompt: You are now browsing social media. Based on the news or announcements you previously acquired and your investment decision-making intentions, compose post. The specific requirements are as follows: 1. Post Content: - Your post must fall into one of the following three categories: - type1: Commentary on an Event - Cite specific news or announcements, express your opinions and analysis, and integrate personal insights with conversational tone. - type2: Summary of Your Recent Trading Behavior - Summarize your latest trading actions, explain the underlying logic and outcomes in detail, and share your emotions and reflections. - type3: Market Outlook - Based on current market information, predict future trends or investment opportunities while expressing your expectations or concerns about the future. 2. Content Requirements: - Align your post with your investment style and persona, incorporating your trading decisions, perspectives, and analysis. Choose the most suitable post type and writing style. - Keep the post between 100-200 words. - Clearly indicate the post type (type1/type2/type3). 3. Belief Summary: - Your prior belief was: {old_belief} - Considering your investment style, personality traits, trading decisions, and market understanding, describe your updated belief in the first person. This should include the following five aspects: - Market Trend - Describe your outlook on market direction for the next month. - Market Valuation - Express your opinion on the current market valuation. - Economic Conditions - Share your expectations regarding macroeconomic trends. - Market Sentiment - Describe your perception of the current market sentiment. - Self-Assessment - Reflect on your historical trading performance and investment style to evaluate your investment ability. 4. Output Format: - The output should follow the YAML format below: post : Your post content type : type1 / type2 / type3 belief : Your Belief Summary # Post type , required , string format Figure 36: Social Media Posting Prompt for TwinMarket Agents"
        }
    ],
    "affiliations": [
        "Nanjing University",
        "The Chinese University of Hong Kong, Shenzhen"
    ]
}